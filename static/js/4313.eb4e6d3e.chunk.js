"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[4313],{33227:(t,e,i)=>{i.d(e,{A:()=>g});var s=i(17294),a=i(91120),o=i(11110),n=i(69342),r=i(55077),h=i(95788),l=i(711),u=i(7552),d=i(40730);class g extends s.m{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(n.x.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(n.x.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(o.A.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=h.kE(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:a.Q2,height:a.Q2,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout((()=>{this.setPrivate("visible",!0)}),500)),this._disposers.push(this.lineX.events.on("positionchanged",(()=>{this._handleXLine()}))),this._disposers.push(this.lineY.events.on("positionchanged",(()=>{this._handleYLine()}))),this._disposers.push(this.lineX.events.on("focus",(()=>this._handleLineFocus()))),this._disposers.push(this.lineX.events.on("blur",(()=>this._handleLineBlur()))),this._disposers.push(this.lineY.events.on("focus",(()=>this._handleLineFocus()))),this._disposers.push(this.lineY.events.on("blur",(()=>this._handleLineBlur()))),h.xY("keyboardevents")&&this._disposers.push(h.q2(document,"keydown",(t=>{this._handleLineMove(h.K(t),t.ctrlKey)})))}_setUpTouch(){const t=this.chart;t&&(t.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let t=this.lineX.x(),e=!0;(t<0||t>this.width())&&(e=!1),this.lineX.setPrivate("visible",e)}_handleYLine(){let t=this.lineY.y(),e=!0;(t<0||t>this.height())&&(e=!1),this.lineY.setPrivate("visible",e)}_handleLineMove(t,e){let i="";const s=this.chart;let a;if(s&&s.xAxes.length){this._root.focused(this.lineX)?(i="positionX",a=s.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(a=s.yAxes.getIndex(0),i="positionY");let o=1;if(e&&(o=5),a){let e,s=a.get("renderer").get("inversed",!1);"ArrowRight"==t||"ArrowDown"==t?e=1:"ArrowLeft"==t||"ArrowUp"==t?e=-1:"Tab"==t&&(e=0),null!=e&&(s&&(e*=-1),this.set(i,a.nextPosition(e*o)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const t=this.get("xAxis");if(t){const e=t.get("tooltip");e&&(this._tooltipX=!0,this._disposers.push(e.on("pointTo",(()=>{this._updateXLine(e)}))))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const t=this.get("yAxis");if(t){const e=t.get("tooltip");e&&(this._tooltipY=!0,this._disposers.push(e.on("pointTo",(()=>{this._updateYLine(e)}))))}}}_handleSyncWith(){const t=this.chart;if(t){const e=this.get("syncWith"),i=[];e&&u.__(e,(t=>{const e=t.chart;e&&i.push(e)})),t._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const t=this.get("positionX"),e=this.get("positionY");null==t&&null==e?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(t){let e=l.LI(this._display.toLocal(t.get("pointTo",{x:0,y:0})).x,3);this._toX!=e&&(this.lineX.animate({key:"x",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toX=e)}_updateYLine(t){let e=l.LI(this._display.toLocal(t.get("pointTo",{x:0,y:0})).y,3);this._toY!=e&&(this.lineY.animate({key:"y",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toY=e)}_drawLines(){this.lineX.set("draw",(t=>{t.moveTo(0,0),t.lineTo(0,this.height())})),this.lineY.set("draw",(t=>{t.moveTo(0,0),t.lineTo(this.width(),0)}))}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(t){this.chart=t,this._handleSyncWith();const e=t.plotContainer;this.events.on("boundschanged",(()=>{this._disposers.push(this.setTimeout((()=>{this.updateCursor()}),50))})),h.xY("touchevents")&&(this._disposers.push(e.events.on("click",(t=>{h.kH(t.originalEvent)&&this._handleMove(t)}))),this._setUpTouch()),this._disposers.push(e.events.on("pointerdown",(t=>{this._handleCursorDown(t)}))),this._disposers.push(e.events.on("globalpointerup",(t=>{this._handleCursorUp(t),t.native||this.isHidden()||this._handleMove(t)}))),this._disposers.push(e.events.on("globalpointermove",(t=>{(this.get("syncWith")||0!=d.HP(e._downPoints).length||t.native||!this.isHidden())&&(this._handleMove(t),Math.hypot(this._lastPoint2.x-t.point.x,this._lastPoint2.y-t.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=t.point))})));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(t){const e=this.chart;return!!e&&e.inPlot(t)}_handleCursorDown(t){if(2==t.originalEvent.button)return;const e=t.point;let i=this._display.toLocal(e);const s=this.chart;if(this.selection.set("draw",(()=>{})),s&&this._inPlot(i)){if(this._downPoint=i,"none"!=this.get("behavior")){this.selection.show();const e="selectstarted";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent})}let e=this._getPosition(i).x,s=this._getPosition(i).y;this.setPrivate("downPositionX",e),this.setPrivate("downPositionY",s)}}_handleCursorUp(t){if(this._downPoint){const e=this.get("behavior","none");if("none"!=e){"z"===e.charAt(0)&&this.selection.hide();const i=t.point;let s=this._display.toLocal(i);const a=this._downPoint,o=this.get("moveThreshold",1);if(s&&a){let i=!1;if("zoomX"!==e&&"zoomXY"!==e&&"selectX"!==e&&"selectXY"!==e||Math.abs(s.x-a.x)>o&&(i=!0),"zoomY"!==e&&"zoomXY"!==e&&"selectY"!==e&&"selectXY"!==e||Math.abs(s.y-a.y)>o&&(i=!0),i){const e="selectended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent})}else{const e="selectcancelled";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent})}}}}this._downPoint=void 0}_handleMove(t){if(this.getPrivate("visible")){const e=this.chart;if(e&&d.HP(e.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const i=t.point,s=this._lastPoint;if(Math.round(s.x)===Math.round(i.x)&&Math.round(s.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,t.originalEvent)}}_getPosition(t){return{x:t.x/this.width(),y:t.y/this.height()}}handleMove(t,e,i){t||(t=this._movePoint);const s=this.get("alwaysShow");if(!t)return void this.hide(0);this._movePoint=t;let a=this._display.toLocal(t),o=this.chart;if(o&&(this._inPlot(a)||this._downPoint)){if(o._movePoint=t,this.isHidden()){this.show();"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",(()=>{}))}let n=a.x,h=a.y,l=this._getPosition(a);this.setPrivate("point",a);let u=this.get("snapToSeries");this._downPoint&&(u=void 0);let d=this.get("positionX"),g=l.x;r.Et(d)&&(g=d);let c=this.get("positionY"),_=l.y;r.Et(c)&&(_=c),this.setPrivate("positionX",g),this.setPrivate("positionY",_);const p=this._getPoint(g,_);if(n=p.x,h=p.y,o.xAxes.each((t=>{t._handleCursorPosition(g,u),s&&t.handleCursorShow()})),o.yAxes.each((t=>{t._handleCursorPosition(_,u),s&&t.handleCursorShow()})),!e){o._handleCursorPosition();const e="cursormoved";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,point:t,originalEvent:i})}this._updateLines(n,h),o.arrangeTooltips()}else if(!this._downPoint&&!s){this.hide(0);const t="cursorhidden";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(a)}_getPoint(t,e){return{x:this.width()*t,y:this.height()*e}}_updateLines(t,e){this._tooltipX||this.lineX.set("x",t),this._tooltipY||this.lineY.set("y",e),this._drawLines()}_updateSelection(t){const e=this.selection,i=this.get("behavior"),s=this.width(),a=this.height();t.x<0&&(t.x=0),t.x>s&&(t.x=s),t.y<0&&(t.y=0),t.y>a&&(t.y=a),e.set("draw",(e=>{const o=this._downPoint;o&&("zoomXY"===i||"selectXY"===i?(e.moveTo(o.x,o.y),e.lineTo(o.x,t.y),e.lineTo(t.x,t.y),e.lineTo(t.x,o.y),e.lineTo(o.x,o.y)):"zoomX"===i||"selectX"===i?(e.moveTo(o.x,0),e.lineTo(o.x,a),e.lineTo(t.x,a),e.lineTo(t.x,0),e.lineTo(o.x,0)):"zoomY"!==i&&"selectY"!==i||(e.moveTo(0,o.y),e.lineTo(s,o.y),e.lineTo(s,t.y),e.lineTo(0,t.y),e.lineTo(0,o.y)))}))}_onHide(){if(this.isHidden()){let t=this.chart;t&&(t.xAxes.each((t=>{t.handleCursorHide()})),t.yAxes.each((t=>{t.handleCursorHide()})),t.series.each((t=>{t.handleCursorHide()})))}super._onHide()}_onShow(){if(!this.isHidden()){let t=this.chart;t&&(t.xAxes.each((t=>{t.handleCursorShow()})),t.yAxes.each((t=>{t.handleCursorShow()})))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(g,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(g,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.m.classNames.concat([g.className])})},5771:(t,e,i)=>{i.d(e,{c:()=>g});var s=i(31826),a=i(62512),o=i(55077),n=i(711),r=i(54845),h=i(7552),l=i(40730),u=i(95788),d=i(72688);class g extends a.F{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=u.kE(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",(()=>{this._setBaseInterval(this.get("baseInterval"))}))}_setBaseInterval(t){this.setPrivateRaw("baseInterval",t),this._baseDuration=d.SJ(t)}_fixZoomFactor(){const t=this.get("maxZoomFactor");null!=t&&t!=1/0?this.setPrivateRaw("maxZoomFactor",t):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(o.Et(t)&&o.Et(e)){this._fixZoomFactor();const t=this.getPrivate("groupInterval");if(t?this._setBaseInterval(t):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let t=this.get("groupInterval");t&&(this.setRaw("groupIntervals",[t]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))h.__(this.series,(t=>{this._groupSeriesData(t)})),this._handleRangeChange();else{let t=this.get("baseInterval"),e=t.timeUnit+t.count;h.__(this.series,(t=>{t.setDataSet(e),t.resetGrouping()})),this._setBaseInterval(t),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(t){if(this.get("groupData")&&!t.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let e=[],i=this.baseMainDuration(),a=this.get("groupIntervals");h.__(a,(t=>{d.SJ(t)>i&&e.push(t)})),t._dataSets={};const n=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let r;const u=t.get("baseAxis");t.get("xAxis")===u?r=t._valueYFields:t.get("yAxis")===u&&(r=t._valueXFields);let g=t._mainDataItems,c=this.get("baseInterval"),_=c.timeUnit+c.count;t._dataSets[_]=g;const p=t.get("groupDataCallback");let v=t.get("groupDataWithOriginals",!1);p&&(v=!0),h.__(e,(e=>{let i,a=-1/0,u=e.timeUnit+e.count;t._dataSets[u]=[];let c={},_={},m={},b={};h.__(r,(e=>{c[e]=0,_[e]=0,m[e]=t.get(e+"Grouped"),b[e]=e+"Working"}));let P,f,w=d.Ds(e.timeUnit);g[0]&&(P=g[0].get(n)),h.__(g,(g=>{let x,y=g.get(n),D=d.d_(y,e.timeUnit,e.count,this._root,P);a<D-w/24?(x=l.C(g.dataContext),i=new s.s(t,x,t._makeDataItem(x)),i.setRaw(n,D),t._dataSets[u].push(i),h.__(r,(t=>{let e=g.get(t);o.Et(e)?(i.setRaw(t,e),i.setRaw(b[t],e),_[t]=1,c[t]=e):(c[t]=0,_[t]=0)})),v&&i.set("originals",[g]),p&&f&&p(f,e),f=i):(h.__(r,(t=>{let e=m[t],s=g.get(t);if(null!=s){let a=i.get(t);switch(e){case"close":i.setRaw(t,s);break;case"sum":i.setRaw(t,a+s);break;case"open":break;case"low":s<a&&i.setRaw(t,s);break;case"high":s>a&&i.setRaw(t,s);break;case"average":_[t]++,c[t]+=s;let e=c[t]/_[t];i.setRaw(t,e);break;case"extreme":Math.abs(s)>Math.abs(a)&&i.setRaw(t,s)}i.setRaw(b[t],i.get(t));let o=l.C(g.dataContext);o[n]=D,i.dataContext=o}})),v&&i.get("originals").push(g)),a=D})),p&&f&&p(f,e)})),t._dataSetId&&t.setDataSet(t._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",(()=>{this.markDirtySize()}))}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(t){let e=this.get("baseInterval"),i=d.T9(0,t,this.get("groupCount",1/0),this.get("groupIntervals"));return d.SJ(i)<d.SJ(e)&&(i=Object.assign({},e)),i}getIntervalMax(t){return this._intervalMax[t.timeUnit+t.count]}getIntervalMin(t){return this._intervalMin[t.timeUnit+t.count]}_handleRangeChange(){super._handleRangeChange();let t=Math.round(this.getPrivate("selectionMin")),e=Math.round(this.getPrivate("selectionMax"));if(o.Et(t)&&o.Et(e)){if(0==this.get("endLocation")&&(e+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),s=this.getPrivate("groupInterval"),a=e-t+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(s){let t=d.SJ(s);a=Math.ceil(a/t)*t}if(i||(i=this.getGroupInterval(a)),i&&(!s||s.timeUnit!==i.timeUnit||s.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let t=i.timeUnit+i.count;h.__(this.series,(e=>{e.get("baseAxis")===this&&e.setDataSet(t)})),this.markDirtyExtremes(),this._root.events.once("frameended",(()=>{this._root.events.once("frameended",(()=>{const t="groupintervalchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}))}))}}h.__(this.series,(i=>{if(i.get("baseAxis")===this){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let a=h.wo(i.dataItems,(e=>r.UD(e.get(s),t))).index;a>0&&(a-=1),e+=this.baseDuration()*(1-this.get("endLocation",1));let o=h.IU(i.dataItems,(t=>r.UD(t.get(s),e))).index,n=o;n>1&&n--;const l=i.dataItems[a],u=i.dataItems[n];let d,g;l&&(g=l.get(s)),u&&(d=u.get(s));let c=!1;null!=d&&null!=g&&(d<t||g>e)&&(c=!0),i.setPrivate("outOfSelection",c),i.setPrivate("startIndex",a),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(a)),i.setPrivate("endIndex",o),this.root.events.once("frameended",(()=>{i._markDirtyPrivateKey("adjustedStartIndex")}))}}))}}_adjustMinMax(t,e,i,s){return{min:t,max:e,step:(e-t)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(t,e){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let s=i.timeUnit+i.count;this._intervalMin[s]=t,this._intervalMax[s]=e}_getM(t){return"month"==t||"year"==t||"day"==t?1.05:1.01}_getMinorInterval(t){var e;let i,s=t.count,a=t.timeUnit;return s>1&&(10==s||15==s?s=5:12==s?s=2:6==s?s=1:30==s?s=10:s<10&&(s=1),i={timeUnit:a,count:s}),"week"==a&&"week"!=(null===(e=this.getPrivate("baseInterval"))||void 0===e?void 0:e.timeUnit)&&(i={timeUnit:"day",count:1}),i}_prepareAxisItems(){const t=this.getPrivate("min"),e=this.getPrivate("max");if(o.Et(t)&&o.Et(e)){const e=this._root,i=Math.round(this.getPrivate("selectionMin")),a=Math.round(this.getPrivate("selectionMax")),n=this.get("renderer"),r=this.getPrivate("baseInterval");let l=i,u=0;const g=this.get("gridIntervals");let c=d.T9(0,a-i,n.gridCount(),g);d.SJ(c)<this.baseDuration()&&(c=Object.assign({},r));const _=d.SJ(c);this._intervalDuration=_;const p=d.qG(c.timeUnit),v=e.utc,m=e.timezone;l=d.d_(i-_,c.timeUnit,c.count,e,t);let b,P=l-_;const f=this.get("dateFormats");this.setPrivateRaw("gridInterval",c);const w=n.get("minorLabelsEnabled"),x=n.get("minorGridEnabled",w);let y,D=0;x&&(y=this._getMinorInterval(c),D=d.SJ(y));let I=0;for(;l<a+_;){let t;this.dataItems.length<u+1?(t=new s.s(this,void 0,{}),this._dataItems.push(t),this.processDataItem(t)):t=this.dataItems[u],this._createAssets(t,[]),this._toggleDataItem(t,!0),t.setRaw("value",l),t.setRaw("labelEndValue",void 0);let i=l+d.Ds(c.timeUnit,c.count*this._getM(c.timeUnit));i=d.d_(i,c.timeUnit,1,e),t.setRaw("endValue",i);let a=new Date(l);b=f[c.timeUnit],p&&this.get("markUnitChange")&&o.Et(P)&&"year"!=c.timeUnit&&d.$_(l,P,p,v,m)&&(b=this.get("periodChangeDateFormats")[c.timeUnit]);const n=t.get("label");n&&n.set("text",e.dateFormatter.format(a,b));let r=c.count;if("week"==c.timeUnit&&t.setRaw("labelEndValue",l),x){r=1;let i=c.timeUnit;"week"==i&&(i="day");let s=l+d.Ds(i,this._getM(i));s=d.d_(s,i,1,e),t.setRaw("labelEndValue",s)}if(this._prepareDataItem(t,r),P=l,l=i,y){const t=y.timeUnit,i=y.count,a=this._getM(t);let o,n=d.d_(P+D*a,t,i,e,P),r=this.get("minorDateFormats",this.get("dateFormats"));for(;n<l-.01*D;){let h;this.minorDataItems.length<I+1?(h=new s.s(this,void 0,{}),this.minorDataItems.push(h),this.processDataItem(h)):h=this.minorDataItems[I],this._createAssets(h,["minor"],!0),this._toggleDataItem(h,!0),h.setRaw("value",n);let l=n+d.Ds(t,i*a);l=d.d_(l,t,1,e),h.setRaw("endValue",l);let u=new Date(n);b=r[t];const g=h.get("label");if(g&&(w?g.set("text",e.dateFormatter.format(u,b)):g.setPrivate("visible",!1)),this._prepareDataItem(h,1),n==o)break;o=n,n=l,I++}}if(l==P)break;u++}for(let t=u;t<this.dataItems.length;t++)this._toggleDataItem(this.dataItems[t],!1);for(let t=I;t<this.minorDataItems.length;t++)this._toggleDataItem(this.minorDataItems[t],!1);h.__(this.series,(t=>{t.inited&&t._markDirtyAxes()}))}this._updateGhost()}_updateFinals(t,e){this.setPrivateRaw("selectionMinFinal",this.positionToValue(t)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(e))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(t){const e=this.getPrivate("baseInterval"),i=e.timeUnit;let s=d.d_(t,i,e.count,this._root),a=s+d.Ds(i,e.count*this._getM(i));return a=d.d_(a,i,1,this._root),s+(a-s)*this.get("startLocation",0)}_fixMax(t){const e=this.getPrivate("baseInterval"),i=e.timeUnit;let s=d.d_(t,i,e.count,this._root),a=s+d.Ds(i,e.count*this._getM(i));return a=d.d_(a,i,1,this._root),s+(a-s)*this.get("endLocation",1)}_updateDates(t,e){}baseDuration(){return this._baseDuration}baseMainDuration(){return d.SJ(this.get("baseInterval"))}processSeriesDataItem(t,e){const i=this.getPrivate("baseInterval");t.open||(t.open={}),t.close||(t.close={}),h.__(e,(e=>{let s=t.get(e);if(o.Et(s)){let a=t.open[e],o=t.close[e];if(s>=a&&s<=o);else{const n=i.timeUnit,r=i.count;a=d.d_(s,n,r,this._root),o=a+d.Ds(n,r*this._getM(n)),o=d.d_(o,n,1,this._root),t.open[e]=a,t.close[e]=o}this._updateDates(a,t.component)}}))}_handleSizeDirty(){}getDataItemPositionX(t,e,i,s){let a,o;t.open&&t.close?(a=t.open[e],o=t.close[e]):(a=t.get(e),o=a);let n=a+(o-a)*i;return n=this._baseValue+(n-this._baseValue)*s,this.valueToPosition(n)}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionY(t,e,i,s){let a,o;t.open&&t.close?(a=t.open[e],o=t.close[e]):(a=t.get(e),o=a);let n=a+(o-a)*i;return n=this._baseValue+(n-this._baseValue)*s,this.valueToPosition(n)}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}roundAxisPosition(t,e){let i=this.positionToValue(t);i-=(e-.5)*this.baseDuration();let s=this.getPrivate("baseInterval");if(!o.yr(i)){const t=this._root.locale.firstDayOfWeek,a=s.timeUnit,o=this._root.utc,n=this._root.timezone,r=s.count;i=d.d_(i,a,r,this._root,this.getPrivate("min",0));let h=d.Iq(s,new Date(i),t,o,n);return n&&(i=d.d_(i+.05*this.baseDuration(),a,r,this._root,this.getPrivate("min",0)),h=d.Iq(s,new Date(i+h*e),t,o,n)),this.valueToPosition(i+h*e)}return NaN}getTooltipText(t,e){if(null!=this.getPrivate("min")){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],s=this.positionToValue(t);if(o.Et(s)){let t=new Date(s),a=this.getPrivate("baseInterval"),o=d.Iq(a,t,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return!1!==e&&(t=new Date(s+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(t,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(t,e,i,s){let a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=this.positionToValue(e);null==i&&(i=.5),o-=(i-.5)*this.baseDuration();const n=h.IU(t.dataItems,(t=>{let e=0;return t.open&&(e=t.open[a]),r.UD(e,o)}));if(s||t.get("snapTooltip")){let e=t.dataItems[n.index-1],i=t.dataItems[n.index];if(e&&i&&e.open&&i.close){let t=e.open[a],s=i.close[a];if(Math.abs(o-t)>Math.abs(o-s))return i}if(e)return e;if(i)return i}else{const e=t.dataItems[n.index-1];if(e&&e.open&&e.close){let t=e.open[a],i=e.close[a];if(o>=t&&o<=i)return e}}}shouldGap(t,e,i,s){const a=t.get(s);return e.get(s)-a>this.baseDuration()*i}zoomToDates(t,e,i){this.zoomToValues(t.getTime(),e.getTime(),i)}zoomToValues(t,e,i){const s=this.getPrivate("minFinal",0),a=this.getPrivate("maxFinal",0);if(null!=this.getPrivate("min")&&null!=this.getPrivate("max"))if(this.get("groupData")){const s=this.getGroupInterval(e-t),a=this.get("baseInterval");let o=this.getIntervalMin(a),n=this.getIntervalMax(a)-1;n=d.d_(n,s.timeUnit,s.count,this.root),n+=this._getM(s.timeUnit)*d.SJ(s),n=d.d_(n,s.timeUnit,s.count,this.root);let r=d.d_(o,s.timeUnit,s.count,this.root),h=d.d_(n,s.timeUnit,s.count,this.root),l=(t-r)/(h-r),u=(e-r)/(h-r);this.zoom(l,u,i)}else this.zoom((t-s)/(a-s),(e-s)/(a-s),i)}positionToDate(t){return new Date(this.positionToValue(t))}dateToPosition(t){return this.valueToPosition(t.getTime())}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return o.Et(t)&&o.Et(e)?this._intervalDuration/(t-e):.05}nextPosition(t){null==t&&(t=1);let e=this.get("tooltipLocation",.5)*this.baseDuration();"Y"==this.get("renderer").getPrivate("letter")&&(t*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0));const s=this.getPrivate("baseInterval");let a=this._nextTime(i,t,s),o=this.getPrivate("selectionMin",0),r=this.getPrivate("selectionMax",0),h=d.d_(o,s.timeUnit,s.count,this._root),l=d.d_(r,s.timeUnit,s.count,this._root);return a+=e,a=n.s_(a,h+e,l-e),this.toGlobalPosition(this.valueToPosition(a))}_nextTime(t,e,i){return d.d_(t+e*this.baseDuration(),i.timeUnit,i.count,this._root)}}Object.defineProperty(g,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"}),Object.defineProperty(g,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.F.classNames.concat([g.className])})}}]);
//# sourceMappingURL=4313.eb4e6d3e.chunk.js.map