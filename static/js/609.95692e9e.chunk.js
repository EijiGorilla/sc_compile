"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[609],{60609:(e,t,i)=>{i.r(t),i.d(t,{default:()=>N});var r=i(65043),s=i(42562),a=i(37368),n=i(8203),l=i(68295),o=i(7552),h=i(93305),c=i(56889),d=i(91120),p=i(2955),u=i(81088),f=i(81046),g=i(68061),y=i(89867),w=i(68444),m=i(11501),v=i(68067),x=i(56375),b=i(62512),A=i(85486),_=i(54289),E=i(83595),T=i(62935),k=(i(44050),i(23421)),C=i(70579);function P(e){o.__(h.u5.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const N=e=>{const t=(0,r.useRef)({}),[i,o]=(0,r.useState)([]),h="utility-point-bar",N=(0,r.useRef)({}),[O,j]=(0,r.useState)([]),D="utility-line-bar",[U,L]=(0,r.useState)([]),S="1=1",X="CP = '"+e.contractp+"'";"All"===e.contractp?(a.e_.definitionExpression=S,a.hh.definitionExpression=S,a.q3.definitionExpression=S,a.Zg.definitionExpression=S):(a.e_.definitionExpression=X,a.hh.definitionExpression=X,a.q3.definitionExpression=X,a.Zg.definitionExpression=X),(0,r.useEffect)((()=>{(0,k.Ar)().then((e=>{o(e)})),(0,k.kd)().then((e=>{j(e)})),(0,k.qq)(e.contractp).then((e=>{L(e)}))}),[e.contractp]);const I="#'%'",q="0.8vw",F="0.8vw",W="#0070ff",B="#000000",R="#00c5ff";return(0,r.useEffect)((()=>{var r;P(h);var o=c.b.new(h);o.container.children.clear(),null===(r=o._logo)||void 0===r||r.dispose(),o.setThemes([E.A.new(o),T.A.new(o)]);var C=o.container.children.push(w.C.new(o,{panX:!1,panY:!1,layout:o.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.KN(100)}));t.current=C;var N=m.Q.new(o,{inversed:!0}),O=C.yAxes.push(v.a.new(o,{categoryField:"category",renderer:N,bullet:function(e,t,i){return x.s.new(e,{location:.5,sprite:p.V.new(e,{width:35,height:35,centerY:d.yP,centerX:d.yP,x:-21,src:i.dataContext.icon})})},tooltip:u.m.new(o,{})}));N.labels.template.setAll({paddingRight:45}),N.grid.template.setAll({location:1}),O.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.yW("#ffffff"),fontSize:q}),O.data.setAll(i);var j=C.xAxes.push(b.F.new(o,{min:0,max:100,strictMinMax:!0,numberFormat:I,calculateTotals:!0,renderer:A.j.new(o,{strokeOpacity:0,strokeWidth:1,stroke:f.yW("#ffffff")})}));function D(t,r){var h=C.series.push(_.k.new(o,{name:t,stacked:!0,xAxis:j,yAxis:O,baseAxis:O,valueXField:r,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===r?f.yW(B):f.yW(W),stroke:f.yW(R)}));h.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:d.KN(90),fillOpacity:"incomp"===r?0:1,strokeWidth:.4}),h.data.setAll(i),h.appear(),h.bullets.push((function(){return g.D.new(o,{sprite:y.J.new(o,{text:0===r?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:o.interfaceColors.get("alternativeText"),opacity:"incomp"===r?0:1,fontSize:"1vw",centerY:d.yP,centerX:d.yP,populateText:!0})})})),h.columns.template.events.on("click",(t=>{var i;const o=(null===(i=t.target.dataItem)||void 0===i?void 0:i.dataContext).category,h=k.vn.find((e=>e.category===o)),c=null===h||void 0===h?void 0:h.value,d="incomp"===r?0:1,p="1=1",u="CP = '"+e.contractp+"' AND UtilType = "+c+" AND Status = "+d;var f=a.e_.createQuery();let g;f.where="All"===e.contractp?p:u,s.Up.when((()=>{s.Up.whenLayerView(a.e_).then((t=>{a.e_.queryFeatures(f).then((e=>{const i=e.features.length;let r=[];for(var o=0;o<i;o++){var h=e.features[o].attributes.OBJECTID;r.push(h)}var c=new l.A({objectIds:r});a.e_.queryExtent(c).then((e=>{e.extent&&s.Up.goTo(e.extent)})),g&&g.remove(),g=t.highlight(r),s.Up.on("click",(()=>{t.filter=new n.A({where:void 0}),g.remove()}))})),t.filter=new n.A({where:"All"===e.contractp?p:u})}));var t=a.e_.createQuery();t.where="All"===e.contractp?p:u,s.Up.whenLayerView(a.hh).then((i=>{a.hh.queryFeatures(t).then((e=>{const t=e.features.length;let r=[];for(var o=0;o<t;o++){var h=e.features[o].attributes.OBJECTID;r.push(h)}var c=new l.A({objectIds:r});a.hh.queryExtent(c).then((e=>{e.extent&&s.Up.goTo(e.extent)})),g&&g.remove(),g=i.highlight(r),s.Up.on("click",(()=>{i.filter=new n.A({where:void 0}),g.remove()}))})),i.filter=new n.A({where:"All"===e.contractp?p:u})}))}))}))}return j.get("renderer").labels.template.setAll({textAlign:"center",fill:f.yW("#ffffff"),fontSize:F}),D("Complete","comp"),D("Incomplete","incomp"),C.appear(1e3,100),()=>{o.dispose()}})),(0,r.useEffect)((()=>{var t;P(D);var i=c.b.new(D);i.container.children.clear(),null===(t=i._logo)||void 0===t||t.dispose(),i.setThemes([E.A.new(i),T.A.new(i)]);var r=i.container.children.push(w.C.new(i,{panX:!1,panY:!1,layout:i.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.KN(100)}));N.current=r;var o=m.Q.new(i,{inversed:!0}),h=r.yAxes.push(v.a.new(i,{categoryField:"category",renderer:o,bullet:function(e,t,i){return x.s.new(e,{location:.5,sprite:p.V.new(e,{width:35,height:35,centerY:d.yP,centerX:d.yP,x:-21,src:i.dataContext.icon})})},tooltip:u.m.new(i,{})}));o.labels.template.setAll({paddingRight:45}),o.grid.template.setAll({location:1}),h.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.yW("#ffffff"),fontSize:q}),h.data.setAll(O);var C=r.xAxes.push(b.F.new(i,{min:0,max:100,strictMinMax:!0,numberFormat:I,calculateTotals:!0,renderer:A.j.new(i,{strokeOpacity:0,strokeWidth:1,stroke:f.yW("#ffffff")})}));function j(t,o){var c=r.series.push(_.k.new(i,{name:t,stacked:!0,xAxis:C,yAxis:h,baseAxis:h,valueXField:o,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===o?f.yW(B):f.yW(W),stroke:f.yW(R)}));c.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:d.KN(90),fillOpacity:"incomp"===o?0:1,strokeWidth:.4}),c.data.setAll(O),c.appear(),c.bullets.push((function(){return g.D.new(i,{sprite:y.J.new(i,{text:0===o?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:i.interfaceColors.get("alternativeText"),opacity:"incomp"===o?0:1,fontSize:"1vw",centerY:d.yP,centerX:d.yP,populateText:!0})})})),c.columns.template.events.on("click",(t=>{var i;const r=(null===(i=t.target.dataItem)||void 0===i?void 0:i.dataContext).category,h=k.vn.find((e=>e.category===r)),c=null===h||void 0===h?void 0:h.value,d="incomp"===o?0:1,p="1=1",u="CP = '"+e.contractp+"' AND UtilType = "+c+" AND Status = "+d;var f=a.q3.createQuery();let g;f.where="All"===e.contractp?p:u,s.Up.when((()=>{s.Up.whenLayerView(a.q3).then((t=>{a.q3.queryFeatures(f).then((e=>{const i=e.features.length;let r=[];for(var o=0;o<i;o++){var h=e.features[o].attributes.OBJECTID;r.push(h)}var c=new l.A({objectIds:r});a.q3.queryExtent(c).then((e=>{e.extent&&s.Up.goTo(e.extent)})),g&&g.remove(),g=t.highlight(r),s.Up.on("click",(()=>{t.filter=new n.A({where:void 0}),g.remove()}))})),t.filter=new n.A({where:"All"===e.contractp?p:u})}));var t=a.q3.createQuery();t.where="All"===e.contractp?p:u,s.Up.whenLayerView(a.Zg).then((i=>{a.Zg.queryFeatures(t).then((e=>{const t=e.features.length;let r=[];for(var o=0;o<t;o++){var h=e.features[o].attributes.OBJECTID;r.push(h)}var c=new l.A({objectIds:r});a.Zg.queryExtent(c).then((e=>{e.extent&&s.Up.goTo(e.extent)})),g&&g.remove(),g=i.highlight(r),s.Up.on("click",(()=>{i.filter=new n.A({where:void 0}),g.remove()}))})),i.filter=new n.A({where:"All"===e.contractp?p:u})}))}))}))}return C.get("renderer").labels.template.setAll({textAlign:"center",fill:f.yW("#ffffff"),fontSize:F}),j("Complete","comp"),j("Incomplete","incomp"),r.appear(1e3,100),()=>{i.dispose()}})),(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"lotNumberImage",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"totalLotsLabel",children:"TOTAL PROGRESS"}),(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsxs)("b",{className:"totalLotsNumber",children:[(0,k.n3)(U[1])," %"," ",(0,C.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,k.n3)(U[0]),")"]})]})]}),(0,C.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Utility_Logo.png",alt:"Utility Logo",height:"25%",width:"25%",style:{padding:"10px",margin:"auto"}})]}),(0,C.jsx)("div",{id:"utilityPointChartTitle",children:"POINT FEATURE"}),(0,C.jsx)("div",{id:h,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}}),(0,C.jsx)("div",{id:"utilityLineChartTitle",children:"LINE FEATURE"}),(0,C.jsx)("div",{id:D,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}})]})}},56375:(e,t,i)=>{i.d(t,{s:()=>a});var r=i(2857),s=i(40730);class a extends r.wC{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();const e=this.get("sprite");if(this.isDirty("sprite")&&e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e)),this.isDirty("location")){const t=e.dataItem;this.axis&&e&&t&&this.axis._prepareDataItem(t)}}dispose(){const e=this.axis;e&&s.__(e._bullets,((t,i)=>{i.uid==this.uid&&delete e._bullets[t]})),super.dispose()}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.wC.classNames.concat([a.className])})},2955:(e,t,i)=>{i.d(t,{V:()=>a});var r=i(76652),s=i(55077);class a extends r.k{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makePicture(void 0)})}_changed(){if(super._changed(),this.isDirty("width")){const e=this.get("width");this._display.width=s.Et(e)?e:void 0}if(this.isDirty("height")){const e=this.get("height");this._display.height=s.Et(e)?e:void 0}if(this.isDirty("shadowColor")){this._display.clear();const e=this.get("shadowColor");this._display.shadowColor=null==e?void 0:e}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}_load(){const e=this.get("src");if(e){const t=new Image;t.crossOrigin=this.get("cors","anonymous"),t.src=e;const i=this.events;t.decode().then((()=>{this._display.image=t,this._updateSize(),!i.isDisposed()&&i.isEnabled("loaded")&&i.dispatch("loaded",{type:"loaded",target:this})})).catch((e=>{!i.isDisposed()&&i.isEnabled("loaderror")&&i.dispatch("loaderror",{type:"loaderror",target:this})}))}}_updateSize(){super._updateSize();const e=this._display.image;if(e){let t=this.getPrivate("width",this.get("width")),i=this.getPrivate("height",this.get("height"));const r=e.width&&e.height?e.width/e.height:0;s.Et(t)&&s.Et(i)?(this._display.width=t,this._display.height=i):s.Et(t)&&r?i=t/r:s.Et(i)&&r?t=i*r:(t=e.width,i=e.height),s.Et(t)&&(this._display.width=t),s.Et(i)&&(this._display.height=i),this.markDirtyBounds(),this.markDirty()}}}Object.defineProperty(a,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(a,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.k.classNames.concat([a.className])})}}]);
//# sourceMappingURL=609.95692e9e.chunk.js.map