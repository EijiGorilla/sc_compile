"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[2716],{32716:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var i=r(65043),l=r(37368),n=r(90806),a=r(8203),s=r(68295),o=r(7552),c=r(93305),u=r(81046),d=r(56889),f=r(91120),h=r(89867),m=r(41876),p=r(28704),g=r(65061),v=r(83595),x=r(62935),y=r(23421),b=r(91665),w=(r(62866),r(53751)),T=r(70579);const S=(0,i.memo)((e=>{const t=(0,i.useRef)({}),r=(0,i.useRef)({}),S=(0,i.useRef)({}),[A,R]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.yW("#00c5ff")}}]),E="structure-chart",[N,j]=(0,i.useState)([]),[L,k]=((0,i.useRef)({}),(0,i.useRef)({}),(0,i.useRef)({}),(0,i.useState)([{category:String,value:Number}])),C="CP = '"+e.contractp+"'";return"All"===e.contractp?l.tv.definitionExpression="1=1":l.tv.definitionExpression=C,(0,i.useEffect)((()=>{(0,y.H8)().then((e=>{R(e)})),(0,y.I3)().then((e=>{j(e)})),(0,y.wx)().then((e=>{k(e)}))}),[e.contractp]),(0,i.useEffect)((()=>{var e,i;i=E,o.__(c.u5.rootElements,(function(e){e.dom.id===i&&e.dispose()}));var b=d.b.new(E);b.container.children.clear(),null===(e=b._logo)||void 0===e||e.dispose(),b.setThemes([v.A.new(b),x.A.new(b)]);var w=b.container.children.push(p.r.new(b,{layout:b.verticalLayout}));S.current=w;var T=w.series.push(g.w.new(b,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.KN(45),innerRadius:f.KN(28),scale:1.8}));t.current=T,w.series.push(T);let R=T.children.push(h.J.new(b,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 0.5em; #d3d3d3; verticalAlign: super]STRUCTURES[/]",fontSize:"1.1rem",centerX:f.KN(50),centerY:f.KN(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));T.onPrivate("width",(e=>{R.set("maxWidth",.7*e)})),T.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.yW("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),T.labels.template.set("visible",!1),T.ticks.template.set("visible",!1),T.slices.template.events.on("click",(e=>{var t;const r=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,i=y.Ww.find((e=>e.category===r)),o=null===i||void 0===i?void 0:i.value;var c,u=l.tv.createQuery();n.Up.when((function(){n.Up.whenLayerView(l.tv).then((e=>{l.tv.queryFeatures(u).then((function(t){const r=t.features.length;let i=[];for(var o=0;o<r;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new s.A({objectIds:i});l.tv.queryExtent(d).then((function(e){e.extent&&n.Up.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),n.Up.on("click",(function(){e.filter=new a.A({where:void 0}),c.remove()}))})),e.filter=new a.A({where:"StatusStruc = "+o})}))}))})),T.data.setAll(A);var N=w.children.push(m.s.new(b,{centerX:f.KN(50),x:f.KN(50)}));r.current=N,N.data.setAll(T.dataItems),N.markers.template.setAll({width:18,height:18}),N.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),w.onPrivate("width",(function(e){var t=Math.max(e-w.height()-230,230);N.labels.template.setAll({width:t,maxWidth:t})}));return N.labels.template.setAll({oversizedBehavior:"truncate",fill:u.yW("#ffffff")}),N.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.yW("#ffffff")}),N.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),T.appear(1e3,100),()=>{b.dispose()}}),[E,A]),(0,i.useEffect)((()=>{var e,i;null===(e=t.current)||void 0===e||e.data.setAll(A),null===(i=r.current)||void 0===i||i.data.setAll(t.current.dataItems)})),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{style:{color:b.IV,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL STRUCTURES"}),(0,T.jsx)(w.GH,{layout:"inline",children:(0,T.jsxs)("b",{className:"totalLotsNumber",style:{color:b.dl},children:[(0,T.jsx)("div",{style:{color:b.dl,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,y.n3)(N[2])}),(0,T.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/House_Logo.svg",alt:"Land Logo",height:"50px",width:"50px",style:{marginLeft:"260px",display:"flex",marginTop:"-50px"}})]})}),(0,T.jsx)("div",{id:E,style:{height:"48vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginTop:"6%",marginBottom:"10%"}}),(0,T.jsx)("div",{style:{color:b.IV,fontSize:"1.2rem",marginLeft:"13px"},children:"PERMIT-TO-ENTER"}),(0,T.jsxs)(w.GH,{layout:"inline",children:[0===N[1]?(0,T.jsxs)("b",{className:"permitToEnterNumber",style:{color:b.dl},children:[N[0],"% (0)"]}):(0,T.jsxs)("b",{className:"permitToEnterNumber",style:{color:b.dl},children:[N[0],"% (",(0,y.n3)(N[1]),")"]}),(0,T.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png",alt:"Structure Logo",height:"50px",width:"50px",style:{margin:"auto",marginRight:"40px"}})]})]})}))}}]);
//# sourceMappingURL=2716.3a995500.chunk.js.map