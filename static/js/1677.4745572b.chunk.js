"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[1677],{91677:(e,t,l)=>{l.r(t),l.d(t,{default:()=>W});var a=l(65043),i=l(90806),r=l(37368),n=l(8203),o=l(7552),s=l(93305),c=l(56889),d=l(91120),p=l(2955),f=l(81088),u=l(81046),m=l(41876),h=l(68061),g=l(89867),y=l(6686),v=l(11501),x=l(68067),w=l(56375),b=l(62512),A=l(85486),S=l(54289),T=l(83595),L=l(62935),k=l(91665),N=(l(62866),l(53751)),j=(l(44050),l(23421)),X=l(81288),z=l(70579);const W=()=>{const{cpValueSelected:e}=(0,X.Be)(),[t,l]=(0,a.useState)(null),[W,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(0,j.Yz)(k.OY[5]).then((e=>{l(e[0][0]),C(e[0][1]>=k.Qs)}))}),[]);const F=(0,a.useRef)({}),P=(0,a.useRef)({}),[R,I]=(0,a.useState)([]),[Y,_]=(0,a.useState)([]),E="viaduct-bar";(0,a.useEffect)((()=>{(0,j.a3)(e).then((e=>{I(e)})),(0,j.D8)(e).then((e=>{_(e)}))}),[e]);return(0,a.useEffect)((()=>{var t,l;l=E,o.__(s.u5.rootElements,(function(e){e.dom.id===l&&e.dispose()}));var a=c.b.new(E);a.container.children.clear(),null===(t=a._logo)||void 0===t||t.dispose(),a.setThemes([T.A.new(a),L.A.new(a)]);var k=a.container.children.push(y.C.new(a,{panX:!1,panY:!1,layout:a.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:d.KN(100)}));P.current=k;var N=v.Q.new(a,{inversed:!0}),X=k.yAxes.push(x.a.new(a,{categoryField:"category",renderer:N,bullet:function(e,t,l){return w.s.new(e,{location:.5,sprite:p.V.new(e,{width:35,height:35,centerY:d.yP,centerX:d.yP,x:-21,src:l.dataContext.icon})})},tooltip:f.m.new(a,{})}));N.labels.template.setAll({paddingRight:45}),N.grid.template.setAll({location:1}),X.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:u.yW("#ffffff"),fontSize:"0.8vw"}),X.data.setAll(R);var z=k.xAxes.push(b.F.new(a,{min:0,max:100,strictMinMax:!0,numberFormat:"#'%'",calculateTotals:!0,renderer:A.j.new(a,{strokeOpacity:0,strokeWidth:1,stroke:u.yW("#ffffff")})}));z.get("renderer").labels.template.setAll({textAlign:"center",fill:u.yW("#ffffff"),fontSize:"0.8vw"});var W=k.children.push(m.s.new(a,{centerX:d.yP,centerY:d.KN(50),x:d.KN(60),y:d.KN(97),marginTop:20,scale:.8,layout:a.horizontalLayout}));function C(t,l){var o=k.series.push(S.k.new(a,{name:t,stacked:!0,xAxis:z,yAxis:X,baseAxis:X,valueXField:l,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"delay"===l?"incomp"===l?u.yW("#000000"):u.yW("#FF0000"):u.yW("#0070ff"),stroke:u.yW("#00c5ff")}));o.columns.template.setAll({fillOpacity:"comp"===l?"incomp"===l?0:1:"delay"===l?.5:0,tooltipText:"{name}: {valueX}",tooltipY:d.KN(90),strokeWidth:.4}),o.data.setAll(R),o.appear(),o.bullets.push((function(){return h.D.new(a,{sprite:g.J.new(a,{text:"incomp"===l||"delay"===l?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:a.interfaceColors.get("alternativeText"),opacity:"incomp"===l?0:1,fontSize:"1vw",centerY:d.yP,centerX:d.yP,populateText:!0})})})),o.columns.template.events.on("click",(t=>{var a;const o=(null===(a=t.target.dataItem)||void 0===a?void 0:a.dataContext).category,s=j.S6.find((e=>e.category===o)),c=null===s||void 0===s?void 0:s.value,d="CP = '"+e+"' AND Type = "+c+" AND Status = "+("comp"===l?"incomp"===l?1:4:"delay"===l?3:1);var p=r.IX.createQuery();let f;i.Up.when((()=>{i.Up.whenLayerView(r.IX).then((e=>{r.IX.queryFeatures(p).then((t=>{const l=t.features.length;let a=[];for(var r=0;r<l;r++){var o=t.features[r].attributes.OBJECTID;a.push(o)}f&&f.remove(),f=e.highlight(a),i.Up.on("click",(()=>{e.filter=new n.A({where:void 0}),f.remove()}))})),e.filter=new n.A({where:d})}))}))})),W.data.push(o)}return F.current=W,W.labels.template.setAll({oversizedBehavior:"truncate",fill:u.yW("#ffffff"),fontSize:"0.8vw",scale:1.2}),C("Complete","comp"),C("Incomplete","incomp"),k.appear(1e3,100),()=>{a.dispose()}})),(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{style:{color:k.IV,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL PROGRESS"}),(0,z.jsx)(N.GH,{layout:"inline",children:(0,z.jsxs)("b",{className:"totalLotsNumber",style:{color:k.dl},children:[(0,z.jsx)("div",{style:{color:k.dl,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,z.jsxs)("b",{className:"totalLotsNumber",style:{color:k.dl},children:[(0,j.n3)(Y[2])," %"," ",(0,z.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,j.n3)(Y[0]),")"]})]})}),(0,z.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Viaduct_Images/Viaduct_All_Logo.svg",alt:"Land Logo",height:"50px",width:"50px",style:{marginLeft:"260px",display:"flex",marginTop:"-70px"}})]})}),(0,z.jsx)("div",{style:{color:!0===W?"red":"gray",fontSize:"0.8rem",float:"right",marginRight:"5px",marginTop:"5px"},children:t?"As of "+t:""}),(0,z.jsx)("div",{id:E,style:{width:"23vw",height:"55vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px",marginTop:"20px"}})]})}}}]);
//# sourceMappingURL=1677.4745572b.chunk.js.map