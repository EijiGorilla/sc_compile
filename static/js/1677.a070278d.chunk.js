"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[1677],{91677:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var l=a(65043),r=a(90806),i=a(37368),n=a(8203),o=a(7552),s=a(93305),c=a(56889),p=a(91120),d=a(2955),f=a(81088),u=a(81046),m=a(41876),h=a(68061),g=a(89867),v=a(68444),y=a(11501),x=a(68067),w=a(56375),b=a(62512),A=a(85486),T=a(54289),L=a(83595),k=a(62935),N=a(91665),S=(a(62866),a(53751)),X=(a(44050),a(23421)),j=a(70579);const W=e=>{const t=(0,l.useRef)({}),a=(0,l.useRef)({}),[W,C]=(0,l.useState)([]),[z,F]=(0,l.useState)([]),P="viaduct-bar";(0,l.useEffect)((()=>{(0,X.a3)(e.contractp).then((e=>{C(e)})),(0,X.D8)(e.contractp).then((e=>{F(e)}))}),[e.contractp]);return(0,l.useEffect)((()=>{var l,N;N=P,o.__(s.u5.rootElements,(function(e){e.dom.id===N&&e.dispose()}));var S=c.b.new(P);S.container.children.clear(),null===(l=S._logo)||void 0===l||l.dispose(),S.setThemes([L.A.new(S),k.A.new(S)]);var j=S.container.children.push(v.C.new(S,{panX:!1,panY:!1,layout:S.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:p.KN(100)}));a.current=j;var C=y.Q.new(S,{inversed:!0}),z=j.yAxes.push(x.a.new(S,{categoryField:"category",renderer:C,bullet:function(e,t,a){return w.s.new(e,{location:.5,sprite:d.V.new(e,{width:35,height:35,centerY:p.yP,centerX:p.yP,x:-21,src:a.dataContext.icon})})},tooltip:f.m.new(S,{})}));C.labels.template.setAll({paddingRight:45}),C.grid.template.setAll({location:1}),z.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:u.yW("#ffffff"),fontSize:"0.8vw"}),z.data.setAll(W);var F=j.xAxes.push(b.F.new(S,{min:0,max:100,strictMinMax:!0,numberFormat:"#'%'",calculateTotals:!0,renderer:A.j.new(S,{strokeOpacity:0,strokeWidth:1,stroke:u.yW("#ffffff")})}));F.get("renderer").labels.template.setAll({textAlign:"center",fill:u.yW("#ffffff"),fontSize:"0.8vw"});var I=j.children.push(m.s.new(S,{centerX:p.yP,centerY:p.KN(50),x:p.KN(60),y:p.KN(97),marginTop:20,scale:.8,layout:S.horizontalLayout}));function R(t,a){var l=j.series.push(T.k.new(S,{name:t,stacked:!0,xAxis:F,yAxis:z,baseAxis:z,valueXField:a,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"delay"===a?"incomp"===a?u.yW("#000000"):u.yW("#FF0000"):u.yW("#0070ff"),stroke:u.yW("#00c5ff")}));l.columns.template.setAll({fillOpacity:"comp"===a?"incomp"===a?0:1:"delay"===a?.5:0,tooltipText:"{name}: {valueX}",tooltipY:p.KN(90),strokeWidth:.4}),l.data.setAll(W),l.appear(),l.bullets.push((function(){return h.D.new(S,{sprite:g.J.new(S,{text:"incomp"===a||"delay"===a?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:S.interfaceColors.get("alternativeText"),opacity:"incomp"===a?0:1,fontSize:"1vw",centerY:p.yP,centerX:p.yP,populateText:!0})})})),l.columns.template.events.on("click",(t=>{var l;const o=(null===(l=t.target.dataItem)||void 0===l?void 0:l.dataContext).category,s=X.S6.find((e=>e.category===o)),c=null===s||void 0===s?void 0:s.value,p="comp"===a?"incomp"===a?1:4:"delay"===a?3:1,d="CP = '"+e.contractp+"' AND Type = "+c+" AND Status = "+p;var f=i.IX.createQuery();let u;r.Up.when((()=>{r.Up.whenLayerView(i.IX).then((e=>{i.IX.queryFeatures(f).then((t=>{const a=t.features.length;let l=[];for(var i=0;i<a;i++){var o=t.features[i].attributes.OBJECTID;l.push(o)}u&&u.remove(),u=e.highlight(l),r.Up.on("click",(()=>{e.filter=new n.A({where:void 0}),u.remove()}))})),e.filter=new n.A({where:d})}))}))})),I.data.push(l)}return t.current=I,I.labels.template.setAll({oversizedBehavior:"truncate",fill:u.yW("#ffffff"),fontSize:"0.8vw",scale:1.2}),R("Complete","comp"),R("Incomplete","incomp"),j.appear(1e3,100),()=>{S.dispose()}})),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{color:N.IV,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL PROGRESS"}),(0,j.jsx)(S.GH,{layout:"inline",children:(0,j.jsxs)("b",{className:"totalLotsNumber",style:{color:N.dl},children:[(0,j.jsx)("div",{style:{color:N.dl,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,j.jsxs)("b",{className:"totalLotsNumber",style:{color:N.dl},children:[(0,X.n3)(z[2])," %"," ",(0,j.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,X.n3)(z[0]),")"]})]})}),(0,j.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Viaduct_Images/Viaduct_All_Logo.svg",alt:"Land Logo",height:"50px",width:"50px",style:{marginLeft:"260px",display:"flex",marginTop:"-70px"}})]})}),(0,j.jsx)("div",{id:P,style:{width:"23vw",height:"55vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px",marginTop:"20px"}})]})}}}]);
//# sourceMappingURL=1677.a070278d.chunk.js.map