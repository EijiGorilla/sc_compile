"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[6270],{46270:(e,t,l)=>{l.r(t),l.d(t,{default:()=>w});var a=l(65043),r=l(37368),s=l(42562),i=l(8203),n=l(68295),o=l(7552),c=l(93305),u=l(81046),d=l(56889),h=l(91120),f=l(41876),m=l(28704),p=l(65061),v=l(83595),g=l(62935),y=l(23421),b=l(70579);const w=(0,a.memo)((e=>{const t=(0,a.useRef)({}),l=(0,a.useRef)({}),w=(0,a.useRef)({}),[x,A]=(0,a.useState)([{category:String,value:Number,sliceSettings:{fill:u.yW("#00c5ff")}}]),[N,L]=(0,a.useState)(0),k="nlo-chart",R="CP = '"+e.contractp+"'";return"All"===e.contractp?r.lQ.definitionExpression="1=1":r.lQ.definitionExpression=R,(0,a.useEffect)((()=>{(0,y.V)().then((e=>{A(e)})),(0,y.es)().then((e=>{L(e)}))}),[e.contractp]),(0,a.useEffect)((()=>{var e,a;a=k,o.__(c.u5.rootElements,(function(e){e.dom.id===a&&e.dispose()}));var b=d.b.new(k);b.container.children.clear(),null===(e=b._logo)||void 0===e||e.dispose(),b.setThemes([v.A.new(b),g.A.new(b)]);var A=b.container.children.push(m.r.new(b,{y:h.KN(-25),layout:b.horizontalLayout}));w.current=A;var N=A.series.push(p.w.new(b,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:h.KN(45),innerRadius:h.KN(20),marginBottom:-10}));t.current=N,A.series.push(N),N.slices.template.setAll({fillOpacity:.9,stroke:u.yW("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),N.labels.template.set("visible",!1),N.ticks.template.set("visible",!1),N.slices.template.events.on("click",(e=>{var t;const l=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,a=y.up.find((e=>e.category===l)),o=null===a||void 0===a?void 0:a.value;var c,u=r.lQ.createQuery();s.Up.when((function(){s.Up.whenLayerView(r.lQ).then((e=>{r.lQ.queryFeatures(u).then((function(t){const l=t.features.length;let a=[];for(var o=0;o<l;o++){var u=t.features[o].attributes.OBJECTID;a.push(u)}var d=new n.A({objectIds:a});r.lQ.queryExtent(d).then((function(e){e.extent&&s.Up.goTo(e.extent)})),c&&c.remove(),c=e.highlight(a),s.Up.on("click",(function(){e.filter=new i.A({where:void 0}),c.remove()}))})),e.filter=new i.A({where:"StatusLA = "+o})}))}))})),N.data.setAll(x);var L=b.container.children.push(f.s.new(b,{centerX:h.KN(50),x:h.KN(50),y:h.KN(55),layout:b.verticalLayout}));l.current=L,L.data.setAll(N.dataItems),L.markers.template.setAll({width:18,height:18}),L.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),A.onPrivate("width",(function(e){var t=Math.max(e-A.height()-190,190);L.labels.template.setAll({width:t,maxWidth:t})}));return L.labels.template.setAll({oversizedBehavior:"truncate",fill:u.yW("#ffffff")}),L.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.yW("#ffffff")}),L.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),N.appear(1e3,100),()=>{b.dispose()}}),[k,x]),(0,a.useEffect)((()=>{var e,a;null===(e=t.current)||void 0===e||e.data.setAll(x),null===(a=l.current)||void 0===a||a.data.setAll(t.current.dataItems)})),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"lotNumberImage",children:[(0,b.jsxs)("div",{style:{},children:[(0,b.jsx)("div",{className:"totalStructuresLabel",children:"TOTAL NON-LAND OWNERS "}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsxs)("b",{className:"permitToEnterNumber",children:[(0,y.n3)(N)," "]})]}),(0,b.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/NLO_Logo.svg",alt:"NLO Logo",height:"19%",width:"19%",style:{padding:"10px",margin:"auto"}})]}),(0,b.jsx)("div",{id:k,style:{height:"45vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-1.5vh"}})]})}))}}]);
//# sourceMappingURL=6270.8ea1c246.chunk.js.map