"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[4599],{44599:(t,e,s)=>{s.r(e),s.d(e,{default:()=>z});var i=s(65043),a=s(7552),r=s(93305),n=s(56889),h=s(81046),o=s(89867),l=s(91120),u=s(81088),d=s(41876),p=s(68061),c=s(6686),g=s(93915),m=s(17294),b=s(11110),f=s(98113),v=s(55077),y=s(95788);class w extends m.m{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=y.kE(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=g.T.new(this._root,{themeTags:y.kE(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(f.$.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:b.A.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(g.T.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(t){t&&this._disposers.push(t.events.on("stopped",(()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1})))}_afterNew(){this._addOrientationClass(),super._afterNew();const t=this.startGrip,e=this.endGrip,s=this.thumb,i=this.get("background");i&&this._disposers.push(i.events.on("click",(t=>{this.setPrivateRaw("isBusy",!0);const e=this._display.toLocal(t.point),i=this.width(),a=this.height(),r=this.get("orientation");let n,h,o;n="vertical"==r?(e.y-s.height()/2)/a:(e.x-s.width()/2)/i,"vertical"==r?(h=n*a,o="y"):(h=n*i,o="x");const l=this.get("animationDuration",0);l>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:o,to:h,duration:l,easing:this.get("animationEasing")}))):(this.thumb.set(o,h),this._root.events.once("frameended",(()=>{this.setPrivateRaw("isBusy",!1)})))}))),this._disposers.push(s.events.on("dblclick",(t=>{if(!y.ay(t.originalEvent,this))return;const e=this.get("animationDuration",0),s=this.get("animationEasing");this.animate({key:"start",to:0,duration:e,easing:s}),this.animate({key:"end",to:1,duration:e,easing:s})}))),this._disposers.push(t.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"}))),this._disposers.push(e.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"}))),this._disposers.push(s.events.on("pointerdown",(()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0}))),this._disposers.push(t.events.on("globalpointerup",(()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1}))),this._disposers.push(e.events.on("globalpointerup",(()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1}))),this._disposers.push(s.events.on("globalpointerup",(()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1}))),this._disposers.push(t.on("x",(()=>{this._updateThumb()}))),this._disposers.push(e.on("x",(()=>{this._updateThumb()}))),this._disposers.push(t.on("y",(()=>{this._updateThumb()}))),this._disposers.push(e.on("y",(()=>{this._updateThumb()}))),this._disposers.push(s.events.on("positionchanged",(()=>{this._updateGripsByThumb()}))),"vertical"==this.get("orientation")?(t.set("x",0),e.set("x",0),this._disposers.push(s.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()-s.height()),0)))),this._disposers.push(s.adapters.add("x",(t=>this.width()/2))),this._disposers.push(t.adapters.add("x",(t=>this.width()/2))),this._disposers.push(e.adapters.add("x",(t=>this.width()/2))),this._disposers.push(t.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()),0)))),this._disposers.push(e.adapters.add("y",(t=>Math.max(Math.min(Number(t),this.height()),0))))):(t.set("y",0),e.set("y",0),this._disposers.push(s.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()-s.width()),0)))),this._disposers.push(s.adapters.add("y",(t=>this.height()/2))),this._disposers.push(t.adapters.add("y",(t=>this.height()/2))),this._disposers.push(e.adapters.add("y",(t=>this.height()/2))),this._disposers.push(t.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()),0)))),this._disposers.push(e.adapters.add("x",(t=>Math.max(Math.min(Number(t),this.width()),0)))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const t="rangechanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){const t="released";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}updateGrips(){const t=this.startGrip,e=this.endGrip,s=this.get("orientation"),i=this.height(),a=this.width();"vertical"==s?(t.set("y",i*this.get("start",0)),e.set("y",i*this.get("end",1))):(t.set("x",a*this.get("start",0)),e.set("x",a*this.get("end",1)));const r=this.getPrivate("positionTextFunction"),n=Math.round(100*this.get("start",0)),h=Math.round(100*this.get("end",0));let o,l;r?(o=r.call(this,this.get("start",0)),l=r.call(this,this.get("end",0))):(o=n+"%",l=h+"%"),t.set("ariaLabel",this._t("From %1",void 0,o)),t.set("ariaValueNow",""+n),t.set("ariaValueText",n+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100"),e.set("ariaLabel",this._t("To %1",void 0,l)),e.set("ariaValueNow",""+h),e.set("ariaValueText",h+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100")}_updateThumb(){const t=this.thumb,e=this.startGrip,s=this.endGrip,i=this.height(),a=this.width();let r=e.x(),n=s.x(),h=e.y(),o=s.y(),l=0,u=1;"vertical"==this.get("orientation")?v.Et(h)&&v.Et(o)&&(this._thumbBusy||t.isDragging()||(t.set("height",o-h),t.set("y",h)),l=h/i,u=o/i):v.Et(r)&&v.Et(n)&&(this._thumbBusy||t.isDragging()||(t.set("width",n-r),t.set("x",r)),l=r/a,u=n/a),!this.getPrivate("isBusy")||this.get("start")==l&&this.get("end")==u||(this.set("start",l),this.set("end",u));const d=this.getPrivate("positionTextFunction"),p=Math.round(100*this.get("start",0)),c=Math.round(100*this.get("end",0));let g,m;d?(g=d.call(this,this.get("start",0)),m=d.call(this,this.get("end",0))):(g=p+"%",m=c+"%"),t.set("ariaLabel",this._t("From %1 to %2",void 0,g,m)),t.set("ariaValueNow",""+p),t.set("ariaValueText",p+"%")}_updateGripsByThumb(){const t=this.thumb,e=this.startGrip,s=this.endGrip;if("vertical"==this.get("orientation")){const i=t.height();e.set("y",t.y()),s.set("y",t.y()+i)}else{const i=t.width();e.set("x",t.x()),s.set("x",t.x()+i)}}}Object.defineProperty(w,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"}),Object.defineProperty(w,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:m.m.classNames.concat([w.className])});class _ extends w{constructor(){super(...arguments),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(c.C.new(this._root,{themeTags:["chart"],interactive:!1,interactiveChildren:!1,panX:!1,panY:!1,wheelX:"none",wheelY:"none"}))}),Object.defineProperty(this,"overlay",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(b.A.new(this._root,{themeTags:["overlay"],interactive:!1}))})}_afterNew(){this._addOrientationClass(),this._settings.themeTags=y.kE(this._settings.themeTags,["scrollbar","xy","chart",this._settings.orientation]);const t=this.children;t.moveValue(this.thumb),t.moveValue(this.startGrip),t.moveValue(this.endGrip),this.thumb.set("opacity",0),this.thumb.states.create("hover",{opacity:.2});const e=this.chart.plotContainer;e.set("interactive",!1),e.remove("background"),e.children.removeValue(this.chart.zoomOutButton),super._afterNew()}_updateThumb(){super._updateThumb(),this.overlay.set("draw",(t=>{const e=this.startGrip,s=this.endGrip;let i=e.x(),a=e.y(),r=s.x(),n=s.y();const h=this.height(),o=this.width();i>r&&([i,r]=[r,i]),a>n&&([a,n]=[n,a]),"horizontal"===this.get("orientation")?(t.moveTo(0,0),t.lineTo(i,0),t.lineTo(i,h),t.lineTo(0,h),t.lineTo(0,0),t.moveTo(r,0),t.lineTo(o,0),t.lineTo(o,h),t.lineTo(r,h),t.lineTo(r,0)):(t.moveTo(0,0),t.lineTo(0,a),t.lineTo(o,a),t.lineTo(o,0),t.lineTo(0,0),t.moveTo(0,n),t.lineTo(0,h),t.lineTo(o,h),t.lineTo(o,n),t.lineTo(0,n))}))}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChartScrollbar"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w.classNames.concat([_.className])});var x=s(33227),T=s(85486),D=s(5771),N=s(62512),k=s(11501),P=s(54289),A=s(83595),B=s(62935),M=s(45802),O=s(37368),G=s(90806),E=s(68295),j=s(8203),R=s(81288),V=s(91665),C=s(70579);const z=()=>{const{cpValueSelected:t}=(0,R.Be)(),e=(0,i.useRef)({}),s=(0,i.useRef)({}),g=(0,i.useRef)({}),m=(0,i.useRef)({}),[b,f]=(0,i.useState)([]),v="lot-progress";return(0,i.useEffect)((()=>{(0,M.Hd)(t).then((t=>{f(t)}))}),[t]),(0,i.useEffect)((()=>{var i,f,y;y=v,a.__(r.u5.rootElements,(function(t){t.dom.id===y&&t.dispose()}));var w=n.b.new(v);w.container.children.clear(),null===(i=w._logo)||void 0===i||i.dispose(),w.setThemes([A.A.new(w),B.A.new(w)]);var R=w.container.children.push(c.C.new(w,{panX:!1,panY:!1,wheelX:"panX",wheelY:"zoomX",paddingBottom:35,layout:w.verticalLayout}));m.current=R;let C=_.new(w,{orientation:"vertical"});C.startGrip.set("scale",.7),C.endGrip.set("scale",.7),R.set("scrollbarY",C);let z=R.get("scrollbarY");null===z||void 0===z||null===(f=z.get("background"))||void 0===f||f.setAll({fill:h.yW("#ffffff"),fillOpacity:.2}),R.children.unshift(o.J.new(w,{text:"Monthly Progress & Target Schedule of Handed Over Lots",fontSize:14,fontWeight:"bold",textAlign:"center",fill:h.yW("#ffffff"),x:l.KN(50),centerX:l.KN(50),paddingTop:0,marginBottom:10})),R.set("cursor",x.A.new(w,{behavior:"zoomX"})).lineY.set("visible",!1);var F=T.j.new(w,{strokeOpacity:1,strokeWidth:1,stroke:h.yW("#ffffff")}),Y=R.xAxes.push(D.c.new(w,{maxDeviation:0,groupData:!0,baseInterval:{timeUnit:"day",count:1},groupIntervals:[{timeUnit:"month",count:1}],renderer:F,tooltip:u.m.new(w,{})})),W=R.yAxes.push(N.F.new(w,{min:0,strictMinMax:!0,renderer:k.Q.new(w,{minGridDistance:60,strokeOpacity:1,strokeWidth:1,stroke:h.yW("#ffffff")})}));Y.get("renderer").labels.template.setAll({textAlign:"center",fill:h.yW("#ffffff"),fontSize:12}),W.get("renderer").labels.template.setAll({textAlign:"center",fill:h.yW("#ffffff"),fontSize:12}),s.current=Y,g.current=W,W.children.unshift(o.J.new(w,{rotation:-90,y:l.yP,centerX:l.yP,fill:h.yW("#ffffff"),fontSize:11}));var X=R.children.push(d.s.new(w,{centerX:l.yP,centerY:l.KN(50),x:l.yP,y:l.KN(108),marginTop:-20}));function S(e,s,i){var a,r=R.series.push(P.k.new(w,{name:e,stacked:!0,xAxis:Y,yAxis:W,valueYField:s,valueXField:"date",categoryXField:"date",fill:i,stroke:i}));r.columns.template.events.on("click",(e=>{var i;const r=null===(i=e.target.dataItem)||void 0===i?void 0:i.dataContext,n=new Date(null===r||void 0===r?void 0:r.date),h=(0,M.sG)(new Date(n)),o="target"===s?`${V.NQ} <= date'`+h+"'":`${V.UW} <= date'`+h+"'",l="target"===s?1:2,u=`${V.LF} = `+l,d=`${V._J} = '`+t+"'";let p;var c=O.Rs.createQuery();"All"===t?(c.where="1=1 AND "+u+" AND "+o,p="1=1 AND "+u+" AND "+o):(c.where=d+" AND "+u+" AND "+o,p=d+" AND "+u+" AND "+o),G.Up.whenLayerView(O.Rs).then((t=>{O.Rs.queryFeatures(c).then((e=>{const s=e.features.length;let i=[];for(var r=0;r<s;r++){var n=e.features[r].attributes.OBJECTID;i.push(n)}var h=new E.A({objectIds:i});O.Rs.queryExtent(h).then((function(t){t.extent&&G.Up.goTo(t.extent)})),a&&a.remove(),a=t.highlight(i),G.Up.on("click",(function(){t.filter=new j.A({where:void 0}),a.remove()}))})),t.filter=new j.A({where:p})}))})),r.columns.template.setAll({tooltipText:'{name}: {valueY} ({valueYTotalPercent.formatNumber("#.#")}%)',tooltipY:l.KN(10)}),r.data.setAll(b),r.appear(),r.bullets.push((function(){return p.D.new(w,{sprite:o.J.new(w,{text:"{valueY}",fill:w.interfaceColors.get("alternativeText"),centerY:l.yP,centerX:l.yP,populateText:!0})})})),X.data.push(r)}return e.current=X,X.labels.template.setAll({oversizedBehavior:"truncate",fill:h.yW("#ffffff"),fontSize:17,scale:.7}),S("Actual","actual",h.yW("#0096FF")),S("Target","target",h.yW("#FF5733")),R.appear(1e3,100),()=>{w.dispose()}}),[v,b]),(0,C.jsx)(C.Fragment,{children:(0,C.jsx)("div",{id:v,style:{height:"40vh",width:"70%",backgroundColor:"#2b2b2b",color:"white",position:"fixed",zIndex:10,bottom:0,marginLeft:"auto",marginRight:"auto"},children:(0,C.jsx)("b",{style:{fontSize:"60px",opacity:"0.4",zIndex:"12",color:"gray",position:"fixed",bottom:"130px",left:"100px",transform:"rotate(10deg)"},children:"UNDER DEVELOPMENT"})})})}}}]);
//# sourceMappingURL=4599.31cd1e39.chunk.js.map