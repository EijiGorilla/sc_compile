"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[609],{60609:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var i=n(65043),r=n(90806),l=n(37368),a=n(8203),o=n(68295),s=n(7552),c=n(93305),p=n(56889),h=n(91120),d=n(2955),u=n(81088),f=n(81046),g=n(68061),m=n(89867),v=n(6686),w=n(11501),y=n(68067),x=n(56375),A=n(62512),b=n(85486),T=n(54289),k=n(83595),E=n(62935),C=(n(62866),n(53751)),L=(n(44050),n(45802)),j=n(91665),S=n(81288),U=n(70579);function N(e){s.__(c.u5.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const P=()=>{const{cpValueSelected:e}=(0,S.Be)(),t=(0,i.useRef)({}),[n,s]=(0,i.useState)([]),c="utility-point-bar",P=(0,i.useRef)({}),[q,F]=(0,i.useState)([]),W="utility-line-bar",[X,I]=(0,i.useState)([]),R="1=1",_="CP = '"+e+"'";"All"===e?(l.e_.definitionExpression=R,l.hh.definitionExpression=R,l.q3.definitionExpression=R,l.Zg.definitionExpression=R):(l.e_.definitionExpression=_,l.hh.definitionExpression=_,l.q3.definitionExpression=_,l.Zg.definitionExpression=_),(0,i.useEffect)((()=>{(0,L.Ar)().then((e=>{s(e)})),(0,L.kd)().then((e=>{F(e)})),(0,L.qq)(e).then((e=>{I(e)}))}),[e]);const B="#'%'",O="0.8vw",z="0.8vw",D="#0070ff",Y="#000000",V="#00c5ff";return(0,i.useEffect)((()=>{var i;N(c);var s=p.b.new(c);s.container.children.clear(),null===(i=s._logo)||void 0===i||i.dispose(),s.setThemes([k.A.new(s),E.A.new(s)]);var C=s.container.children.push(v.C.new(s,{panX:!1,panY:!1,layout:s.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:h.KN(100)}));t.current=C;var j=w.Q.new(s,{inversed:!0}),S=C.yAxes.push(y.a.new(s,{categoryField:"category",renderer:j,bullet:function(e,t,n){return x.s.new(e,{location:.5,sprite:d.V.new(e,{width:35,height:35,centerY:h.yP,centerX:h.yP,x:-21,src:n.dataContext.icon})})},tooltip:u.m.new(s,{})}));j.labels.template.setAll({paddingRight:45}),j.grid.template.setAll({location:1}),S.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.yW("#ffffff"),fontSize:O}),S.data.setAll(n);var U=C.xAxes.push(A.F.new(s,{min:0,max:100,strictMinMax:!0,numberFormat:B,calculateTotals:!0,renderer:b.j.new(s,{strokeOpacity:0,strokeWidth:1,stroke:f.yW("#ffffff")})}));function P(t,i){var c=C.series.push(T.k.new(s,{name:t,stacked:!0,xAxis:U,yAxis:S,baseAxis:S,valueXField:i,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===i?f.yW(Y):f.yW(D),stroke:f.yW(V)}));c.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:h.KN(90),fillOpacity:"incomp"===i?0:1,strokeWidth:.4}),c.data.setAll(n),c.appear(),c.bullets.push((function(){return g.D.new(s,{sprite:m.J.new(s,{text:0===i?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:s.interfaceColors.get("alternativeText"),opacity:"incomp"===i?0:1,fontSize:"1vw",centerY:h.yP,centerX:h.yP,populateText:!0})})})),c.columns.template.events.on("click",(t=>{var n;const s=(null===(n=t.target.dataItem)||void 0===n?void 0:n.dataContext).category,c=L.vn.find((e=>e.category===s)),p=null===c||void 0===c?void 0:c.value,h="1=1",d="CP = '"+e+"' AND UtilType = "+p+" AND Status = "+("incomp"===i?0:1);var u=l.e_.createQuery();let f;u.where="All"===e?h:d,r.Up.when((()=>{r.Up.whenLayerView(l.e_).then((t=>{l.e_.queryFeatures(u).then((e=>{const n=e.features.length;let i=[];for(var s=0;s<n;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.e_.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=t.highlight(i),r.Up.on("click",(()=>{t.filter=new a.A({where:void 0}),f.remove()}))})),t.filter=new a.A({where:"All"===e?h:d})}));var t=l.e_.createQuery();t.where="All"===e?h:d,r.Up.whenLayerView(l.hh).then((n=>{l.hh.queryFeatures(t).then((e=>{const t=e.features.length;let i=[];for(var s=0;s<t;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.hh.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=n.highlight(i),r.Up.on("click",(()=>{n.filter=new a.A({where:void 0}),f.remove()}))})),n.filter=new a.A({where:"All"===e?h:d})}))}))}))}return U.get("renderer").labels.template.setAll({textAlign:"center",fill:f.yW("#ffffff"),fontSize:z}),P("Complete","comp"),P("Incomplete","incomp"),C.appear(1e3,100),()=>{s.dispose()}})),(0,i.useEffect)((()=>{var t;N(W);var n=p.b.new(W);n.container.children.clear(),null===(t=n._logo)||void 0===t||t.dispose(),n.setThemes([k.A.new(n),E.A.new(n)]);var i=n.container.children.push(v.C.new(n,{panX:!1,panY:!1,layout:n.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:h.KN(100)}));P.current=i;var s=w.Q.new(n,{inversed:!0}),c=i.yAxes.push(y.a.new(n,{categoryField:"category",renderer:s,bullet:function(e,t,n){return x.s.new(e,{location:.5,sprite:d.V.new(e,{width:35,height:35,centerY:h.yP,centerX:h.yP,x:-21,src:n.dataContext.icon})})},tooltip:u.m.new(n,{})}));s.labels.template.setAll({paddingRight:45}),s.grid.template.setAll({location:1}),c.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.yW("#ffffff"),fontSize:O}),c.data.setAll(q);var C=i.xAxes.push(A.F.new(n,{min:0,max:100,strictMinMax:!0,numberFormat:B,calculateTotals:!0,renderer:b.j.new(n,{strokeOpacity:0,strokeWidth:1,stroke:f.yW("#ffffff")})}));function j(t,s){var p=i.series.push(T.k.new(n,{name:t,stacked:!0,xAxis:C,yAxis:c,baseAxis:c,valueXField:s,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===s?f.yW(Y):f.yW(D),stroke:f.yW(V)}));p.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:h.KN(90),fillOpacity:"incomp"===s?0:1,strokeWidth:.4}),p.data.setAll(q),p.appear(),p.bullets.push((function(){return g.D.new(n,{sprite:m.J.new(n,{text:0===s?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:n.interfaceColors.get("alternativeText"),opacity:"incomp"===s?0:1,fontSize:"1vw",centerY:h.yP,centerX:h.yP,populateText:!0})})})),p.columns.template.events.on("click",(t=>{var n;const i=(null===(n=t.target.dataItem)||void 0===n?void 0:n.dataContext).category,c=L.vn.find((e=>e.category===i)),p=null===c||void 0===c?void 0:c.value,h="1=1",d="CP = '"+e+"' AND UtilType = "+p+" AND Status = "+("incomp"===s?0:1);var u=l.q3.createQuery();let f;u.where="All"===e?h:d,r.Up.when((()=>{r.Up.whenLayerView(l.q3).then((t=>{l.q3.queryFeatures(u).then((e=>{const n=e.features.length;let i=[];for(var s=0;s<n;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.q3.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=t.highlight(i),r.Up.on("click",(()=>{t.filter=new a.A({where:void 0}),f.remove()}))})),t.filter=new a.A({where:"All"===e?h:d})}));var t=l.q3.createQuery();t.where="All"===e?h:d,r.Up.whenLayerView(l.Zg).then((n=>{l.Zg.queryFeatures(t).then((e=>{const t=e.features.length;let i=[];for(var s=0;s<t;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.Zg.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=n.highlight(i),r.Up.on("click",(()=>{n.filter=new a.A({where:void 0}),f.remove()}))})),n.filter=new a.A({where:"All"===e?h:d})}))}))}))}return C.get("renderer").labels.template.setAll({textAlign:"center",fill:f.yW("#ffffff"),fontSize:z}),j("Complete","comp"),j("Incomplete","incomp"),i.appear(1e3,100),()=>{n.dispose()}})),(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{style:{color:j.IV,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL PROGRESS"}),(0,U.jsx)(C.GH,{layout:"inline",children:(0,U.jsxs)("b",{className:"totalLotsNumber",style:{color:j.dl},children:[(0,U.jsx)("div",{style:{color:j.dl,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,U.jsxs)("b",{className:"totalLotsNumber",style:{color:j.dl},children:[(0,L.n3)(X[1])," %"," ",(0,U.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,L.n3)(X[0]),")"]})]})}),(0,U.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Utility_Logo.png",alt:"Land Logo",height:"75px",width:"75px",style:{marginLeft:"260px",display:"flex",marginTop:"-90px"}})]})}),(0,U.jsx)("div",{id:"utilityPointChartTitle",style:{marginTop:"10px"},children:"POINT FEATURE"}),(0,U.jsx)("div",{id:c,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}}),(0,U.jsx)("div",{id:"utilityLineChartTitle",children:"LINE FEATURE"}),(0,U.jsx)("div",{id:W,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}})]})}}}]);
//# sourceMappingURL=609.6545a9e7.chunk.js.map