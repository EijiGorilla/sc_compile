"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[609],{60609:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var i=n(65043),r=n(90806),l=n(37368),a=n(8203),o=n(68295),s=n(7552),c=n(93305),p=n(56889),h=n(91120),d=n(2955),u=n(81088),f=n(81046),g=n(68061),m=n(89867),v=n(6686),y=n(11501),w=n(68067),x=n(56375),A=n(62512),b=n(85486),T=n(54289),E=n(83595),k=n(62935),C=(n(62866),n(53751)),L=(n(44050),n(23421)),S=n(91665),j=n(81288),U=n(70579);function N(e){s.__(c.u5.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const P=()=>{const{cpValueSelected:e}=(0,j.Be)(),[t,n]=(0,i.useState)(null),[s,c]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,L.Yz)(S.OY[3]).then((e=>{n(e[0][0]),c(e[0][1]>=S.Qs)}))}),[]);const P=(0,i.useRef)({}),[q,F]=(0,i.useState)([]),W="utility-point-bar",X=(0,i.useRef)({}),[I,R]=(0,i.useState)([]),_="utility-line-bar",[z,O]=(0,i.useState)([]),Y="1=1",B="CP = '"+e+"'";"All"===e?(l.e_.definitionExpression=Y,l.hh.definitionExpression=Y,l.q3.definitionExpression=Y,l.Zg.definitionExpression=Y):(l.e_.definitionExpression=B,l.hh.definitionExpression=B,l.q3.definitionExpression=B,l.Zg.definitionExpression=B),(0,i.useEffect)((()=>{(0,L.Ar)().then((e=>{F(e)})),(0,L.kd)().then((e=>{R(e)})),(0,L.qq)(e).then((e=>{O(e)}))}),[e]);const D="#'%'",V="0.8vw",Q="0.8vw",J="#0070ff",Z="#000000",K="#00c5ff";return(0,i.useEffect)((()=>{var t;N(W);var n=p.b.new(W);n.container.children.clear(),null===(t=n._logo)||void 0===t||t.dispose(),n.setThemes([E.A.new(n),k.A.new(n)]);var i=n.container.children.push(v.C.new(n,{panX:!1,panY:!1,layout:n.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:h.KN(100)}));P.current=i;var s=y.Q.new(n,{inversed:!0}),c=i.yAxes.push(w.a.new(n,{categoryField:"category",renderer:s,bullet:function(e,t,n){return x.s.new(e,{location:.5,sprite:d.V.new(e,{width:35,height:35,centerY:h.yP,centerX:h.yP,x:-21,src:n.dataContext.icon})})},tooltip:u.m.new(n,{})}));s.labels.template.setAll({paddingRight:45}),s.grid.template.setAll({location:1}),c.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.yW("#ffffff"),fontSize:V}),c.data.setAll(q);var C=i.xAxes.push(A.F.new(n,{min:0,max:100,strictMinMax:!0,numberFormat:D,calculateTotals:!0,renderer:b.j.new(n,{strokeOpacity:0,strokeWidth:1,stroke:f.yW("#ffffff")})}));function S(t,s){var p=i.series.push(T.k.new(n,{name:t,stacked:!0,xAxis:C,yAxis:c,baseAxis:c,valueXField:s,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===s?f.yW(Z):f.yW(J),stroke:f.yW(K)}));p.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:h.KN(90),fillOpacity:"incomp"===s?0:1,strokeWidth:.4}),p.data.setAll(q),p.appear(),p.bullets.push((function(){return g.D.new(n,{sprite:m.J.new(n,{text:0===s?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:n.interfaceColors.get("alternativeText"),opacity:"incomp"===s?0:1,fontSize:"1vw",centerY:h.yP,centerX:h.yP,populateText:!0})})})),p.columns.template.events.on("click",(t=>{var n;const i=(null===(n=t.target.dataItem)||void 0===n?void 0:n.dataContext).category,c=L.vn.find((e=>e.category===i)),p=null===c||void 0===c?void 0:c.value,h="1=1",d="CP = '"+e+"' AND UtilType = "+p+" AND Status = "+("incomp"===s?0:1);var u=l.e_.createQuery();let f;u.where="All"===e?h:d,r.Up.when((()=>{r.Up.whenLayerView(l.e_).then((t=>{l.e_.queryFeatures(u).then((e=>{const n=e.features.length;let i=[];for(var s=0;s<n;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.e_.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=t.highlight(i),r.Up.on("click",(()=>{t.filter=new a.A({where:void 0}),f.remove()}))})),t.filter=new a.A({where:"All"===e?h:d})}));var t=l.e_.createQuery();t.where="All"===e?h:d,r.Up.whenLayerView(l.hh).then((n=>{l.hh.queryFeatures(t).then((e=>{const t=e.features.length;let i=[];for(var s=0;s<t;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.hh.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=n.highlight(i),r.Up.on("click",(()=>{n.filter=new a.A({where:void 0}),f.remove()}))})),n.filter=new a.A({where:"All"===e?h:d})}))}))}))}return C.get("renderer").labels.template.setAll({textAlign:"center",fill:f.yW("#ffffff"),fontSize:Q}),S("Complete","comp"),S("Incomplete","incomp"),i.appear(1e3,100),()=>{n.dispose()}})),(0,i.useEffect)((()=>{var t;N(_);var n=p.b.new(_);n.container.children.clear(),null===(t=n._logo)||void 0===t||t.dispose(),n.setThemes([E.A.new(n),k.A.new(n)]);var i=n.container.children.push(v.C.new(n,{panX:!1,panY:!1,layout:n.verticalLayout,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,paddingTop:10,paddingLeft:5,paddingRight:5,paddingBottom:0,scale:1,height:h.KN(100)}));X.current=i;var s=y.Q.new(n,{inversed:!0}),c=i.yAxes.push(w.a.new(n,{categoryField:"category",renderer:s,bullet:function(e,t,n){return x.s.new(e,{location:.5,sprite:d.V.new(e,{width:35,height:35,centerY:h.yP,centerX:h.yP,x:-21,src:n.dataContext.icon})})},tooltip:u.m.new(n,{})}));s.labels.template.setAll({paddingRight:45}),s.grid.template.setAll({location:1}),c.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",textAlign:"center",fill:f.yW("#ffffff"),fontSize:V}),c.data.setAll(I);var C=i.xAxes.push(A.F.new(n,{min:0,max:100,strictMinMax:!0,numberFormat:D,calculateTotals:!0,renderer:b.j.new(n,{strokeOpacity:0,strokeWidth:1,stroke:f.yW("#ffffff")})}));function S(t,s){var p=i.series.push(T.k.new(n,{name:t,stacked:!0,xAxis:C,yAxis:c,baseAxis:c,valueXField:s,valueXShow:"valueXTotalPercent",categoryYField:"category",fill:"incomp"===s?f.yW(Z):f.yW(J),stroke:f.yW(K)}));p.columns.template.setAll({tooltipText:"{name}: {valueX}",tooltipY:h.KN(90),fillOpacity:"incomp"===s?0:1,strokeWidth:.4}),p.data.setAll(I),p.appear(),p.bullets.push((function(){return g.D.new(n,{sprite:m.J.new(n,{text:0===s?"":"{valueXTotalPercent.formatNumber('#.')}%",fill:n.interfaceColors.get("alternativeText"),opacity:"incomp"===s?0:1,fontSize:"1vw",centerY:h.yP,centerX:h.yP,populateText:!0})})})),p.columns.template.events.on("click",(t=>{var n;const i=(null===(n=t.target.dataItem)||void 0===n?void 0:n.dataContext).category,c=L.vn.find((e=>e.category===i)),p=null===c||void 0===c?void 0:c.value,h="1=1",d="CP = '"+e+"' AND UtilType = "+p+" AND Status = "+("incomp"===s?0:1);var u=l.q3.createQuery();let f;u.where="All"===e?h:d,r.Up.when((()=>{r.Up.whenLayerView(l.q3).then((t=>{l.q3.queryFeatures(u).then((e=>{const n=e.features.length;let i=[];for(var s=0;s<n;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.q3.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=t.highlight(i),r.Up.on("click",(()=>{t.filter=new a.A({where:void 0}),f.remove()}))})),t.filter=new a.A({where:"All"===e?h:d})}));var t=l.q3.createQuery();t.where="All"===e?h:d,r.Up.whenLayerView(l.Zg).then((n=>{l.Zg.queryFeatures(t).then((e=>{const t=e.features.length;let i=[];for(var s=0;s<t;s++){var c=e.features[s].attributes.OBJECTID;i.push(c)}var p=new o.A({objectIds:i});l.Zg.queryExtent(p).then((e=>{e.extent&&r.Up.goTo(e.extent)})),f&&f.remove(),f=n.highlight(i),r.Up.on("click",(()=>{n.filter=new a.A({where:void 0}),f.remove()}))})),n.filter=new a.A({where:"All"===e?h:d})}))}))}))}return C.get("renderer").labels.template.setAll({textAlign:"center",fill:f.yW("#ffffff"),fontSize:Q}),S("Complete","comp"),S("Incomplete","incomp"),i.appear(1e3,100),()=>{n.dispose()}})),(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{style:{color:S.IV,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL PROGRESS"}),(0,U.jsx)(C.GH,{layout:"inline",children:(0,U.jsxs)("b",{className:"totalLotsNumber",style:{color:S.dl},children:[(0,U.jsx)("div",{style:{color:S.dl,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,U.jsxs)("b",{className:"totalLotsNumber",style:{color:S.dl},children:[(0,L.n3)(z[1])," %"," ",(0,U.jsxs)("div",{className:"totalLotsNumber2",children:["(",(0,L.n3)(z[0]),")"]})]})}),(0,U.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Utility_Logo.png",alt:"Land Logo",height:"75px",width:"75px",style:{marginLeft:"260px",display:"flex",marginTop:"-90px"}})]})}),(0,U.jsx)("div",{style:{color:!0===s?"red":"gray",fontSize:"0.8rem",float:"right",marginRight:"5px"},children:t?"As of "+t:""}),(0,U.jsx)("div",{id:"utilityPointChartTitle",style:{marginTop:"10px"},children:"POINT FEATURE"}),(0,U.jsx)("div",{id:W,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}}),(0,U.jsx)("div",{id:"utilityLineChartTitle",children:"LINE FEATURE"}),(0,U.jsx)("div",{id:_,style:{width:"23vw",height:"33vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginRight:"10px"}})]})}}}]);
//# sourceMappingURL=609.17346061.chunk.js.map