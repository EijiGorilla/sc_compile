"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[6697],{16697:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(65043),l=a(37368),i=a(42562),s=a(8203),n=a(68295),o=a(7552),c=a(93305),u=a(81046),d=a(91120),f=a(56889),h=a(41876),v=a(28704),m=a(65061),p=a(83595),g=a(62935),w=a(23421),y=(a(44050),a(70579));function x(e){o.__(c.u5.rootElements,(function(t){t.dom.id===e&&t.dispose()}))}const A=e=>{const t=(0,r.useRef)({}),a=(0,r.useRef)({}),o=(0,r.useRef)({}),[c,A]=(0,r.useState)([{category:String,value:Number,sliceSettings:{fill:u.yW("#00c5ff")}}]),b="pie-cut",N=(0,r.useRef)({}),k=(0,r.useRef)({}),R=(0,r.useRef)({}),[T,E]=(0,r.useState)([{category:String,value:Number,sliceSettings:{fill:u.yW("#00c5ff")}}]),L="pie-compen",[B,S]=(0,r.useState)([]),j="CP = '"+e.contractp+"'";"All"===e.contractp?(l.sN.definitionExpression="1=1",l.wx.definitionExpression="1=1"):(l.sN.definitionExpression=j,l.wx.definitionExpression=j);const C=d.KN(53);return(0,r.useEffect)((()=>{(0,w.Aw)().then((e=>{A(e)})),(0,w.g3)().then((e=>{E(e)})),(0,w.g6)().then((e=>{S(e)}))}),[e.contractp]),(0,r.useEffect)((()=>{var e;x(b);var r=f.b.new(b);r.container.children.clear(),null===(e=r._logo)||void 0===e||e.dispose(),r.setThemes([p.A.new(r),g.A.new(r)]);var y=r.container.children.push(v.r.new(r,{y:d.KN(-25),layout:r.horizontalLayout}));o.current=y;var A=y.series.push(m.w.new(r,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:d.KN(45),innerRadius:d.KN(20),marginBottom:-10}));t.current=A,y.series.push(A),A.slices.template.setAll({fillOpacity:.9,stroke:u.yW("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),A.labels.template.set("visible",!1),A.ticks.template.set("visible",!1),A.slices.template.events.on("click",(e=>{var t;const a=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,r=w.lt.find((e=>e.category===a)),o=null===r||void 0===r?void 0:r.value;var c,u=l.sN.createQuery();i.Up.when((function(){i.Up.whenLayerView(l.sN).then((e=>{l.sN.queryFeatures(u).then((t=>{const a=t.features.length;let r=[];for(var o=0;o<a;o++){var u=t.features[o].attributes.OBJECTID;r.push(u)}var d=new n.A({objectIds:r});l.sN.queryExtent(d).then((e=>{e.extent&&i.Up.goTo(e.extent)})),c&&c.remove(),c=e.highlight(r),i.Up.on("click",(function(){e.filter=new s.A({where:void 0}),c.remove()}))})),e.filter=new s.A({where:"Status = "+o}),i.Up.on("click",(()=>{e.filter=new s.A({where:void 0}),void 0!==c?c.remove():console.log("")}))}))}))})),A.data.setAll(c);var N=r.container.children.push(h.s.new(r,{centerX:d.KN(50),x:d.KN(50),y:C,layout:r.verticalLayout}));return a.current=N,N.data.setAll(A.dataItems),N.markers.template.setAll({width:18,height:18}),N.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),y.onPrivate("width",(function(e){var t=Math.max(e-y.height()-220,220);N.labels.template.setAll({width:t,maxWidth:t})})),N.labels.template.setAll({oversizedBehavior:"truncate",fill:u.yW("#ffffff")}),N.valueLabels.template.setAll({textAlign:"right",fill:u.yW("#ffffff")}),N.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),A.appear(1e3,100),()=>{r.dispose()}}),[b,c]),(0,r.useEffect)((()=>{var e,r;null===(e=t.current)||void 0===e||e.data.setAll(c),null===(r=a.current)||void 0===r||r.data.setAll(t.current.dataItems)})),(0,r.useEffect)((()=>{var e;x(L);var t=f.b.new(L);t.container.children.clear(),null===(e=t._logo)||void 0===e||e.dispose(),t.setThemes([p.A.new(t),g.A.new(t)]);var a=t.container.children.push(v.r.new(t,{y:d.KN(-25),layout:t.horizontalLayout}));R.current=a;var r=a.series.push(m.w.new(t,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:d.KN(45),innerRadius:d.KN(20),marginBottom:-10}));N.current=r,a.series.push(r),r.slices.template.setAll({fillOpacity:.9,stroke:u.yW("#ffffff"),strokeWidth:1,strokeOpacity:1,templateField:"sliceSettings"}),r.labels.template.set("visible",!1),r.ticks.template.set("visible",!1),r.slices.template.events.on("click",(e=>{var t;const a=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,r=w.N7.find((e=>e.category===a)),o=null===r||void 0===r?void 0:r.value;var c,u=l.wx.createQuery();i.Up.when((function(){i.Up.whenLayerView(l.wx).then((e=>{l.wx.queryFeatures(u).then((t=>{const a=t.features.length;let r=[];for(var o=0;o<a;o++){var u=t.features[o].attributes.OBJECTID;r.push(u)}var d=new n.A({objectIds:r});l.wx.queryExtent(d).then((e=>{e.extent&&i.Up.goTo(e.extent)})),c&&c.remove(),c=e.highlight(r),i.Up.on("click",(function(){e.filter=new s.A({where:void 0}),c.remove()}))})),e.filter=new s.A({where:"Compensation = "+o}),i.Up.on("click",(()=>{e.filter=new s.A({where:void 0}),void 0!==c?c.remove():console.log("")}))}))}))})),r.data.setAll(T);var o=t.container.children.push(h.s.new(t,{centerX:d.KN(50),x:d.KN(50),y:C,layout:t.verticalLayout}));return k.current=o,o.data.setAll(r.dataItems),o.markers.template.setAll({width:18,height:18}),o.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),a.onPrivate("width",(function(e){var t=Math.max(e-a.height()-220,220);o.labels.template.setAll({width:t,maxWidth:t})})),o.labels.template.setAll({oversizedBehavior:"truncate",fill:u.yW("#ffffff")}),o.valueLabels.template.setAll({textAlign:"right",fill:u.yW("#ffffff")}),o.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),r.appear(1e3,100),()=>{t.dispose()}}),[L,T]),(0,r.useEffect)((()=>{var e,t;null===(e=N.current)||void 0===e||e.data.setAll(T),null===(t=k.current)||void 0===t||t.data.setAll(N.current.dataItems)})),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"treesNumberImage",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"totalTreesLabel",children:"TOTAL TREES"}),(0,y.jsx)("br",{}),(0,y.jsx)("br",{}),(0,y.jsxs)("b",{className:"totalTreesNumber",children:[(0,w.n3)(B[0])," "]})]}),(0,y.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Tree_Logo.svg",alt:"Land Logo",height:"20%",width:"20%",style:{padding:"10px",margin:"auto",marginRight:"40px"}})]}),(0,y.jsx)("div",{id:b,style:{height:"45vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-7vh"}}),(0,y.jsx)("div",{id:L,style:{height:"45vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginBottom:"-1.5vh"}})]})}}}]);
//# sourceMappingURL=6697.f42ce718.chunk.js.map