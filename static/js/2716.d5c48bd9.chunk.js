"use strict";(self.webpackChunksc_compile=self.webpackChunksc_compile||[]).push([[2716],{32716:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var i=l(65043),r=l(37368),s=l(90806),a=l(8203),n=l(68295),o=l(7552),c=l(93305),u=l(81046),d=l(56889),f=l(91120),h=l(89867),m=l(41876),p=l(28704),g=l(65061),v=l(83595),x=l(62935),y=l(23421),b=l(91665),w=(l(62866),l(53751)),A=l(81288),S=l(70579);const T=(0,i.memo)((()=>{const{cpValueSelected:e}=(0,A.Be)(),[t,l]=(0,i.useState)(null),[T,R]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,y.Yz)(b.OY[1]).then((e=>{l(e[0][0]),R(e[0][1]>=b.Qs)}))}),[]);const E=(0,i.useRef)({}),j=(0,i.useRef)({}),L=(0,i.useRef)({}),[N,k]=(0,i.useState)([{category:String,value:Number,sliceSettings:{fill:u.yW("#00c5ff")}}]),z="structure-chart",[C,I]=(0,i.useState)([]),B="CP = '"+e+"'";return r.tv.definitionExpression="All"===e?"1=1":B,(0,i.useEffect)((()=>{(0,y.H8)(e).then((e=>{k(e)})),(0,y.I3)().then((e=>{I(e)}))}),[e]),(0,i.useEffect)((()=>{var e,t;t=z,o.__(c.u5.rootElements,(function(e){e.dom.id===t&&e.dispose()}));var l=d.b.new(z);l.container.children.clear(),null===(e=l._logo)||void 0===e||e.dispose(),l.setThemes([v.A.new(l),x.A.new(l)]);var i=l.container.children.push(p.r.new(l,{layout:l.verticalLayout}));L.current=i;var y=i.series.push(g.w.new(l,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:f.KN(45),innerRadius:f.KN(28),scale:2.2}));E.current=y,i.series.push(y);let w=y.children.push(h.J.new(l,{text:"[#ffffff]{valueSum}[/]\n[fontSize: 0.5em; #d3d3d3; verticalAlign: super]STRUCTURES[/]",fontSize:"0.9rem",centerX:f.KN(50),centerY:f.KN(40),populateText:!0,oversizedBehavior:"fit",textAlign:"center"}));y.onPrivate("width",(e=>{w.set("maxWidth",.7*e)})),y.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:u.yW("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings"}),y.labels.template.setAll({visible:!1,scale:0}),y.ticks.template.setAll({visible:!1,scale:0}),y.slices.template.events.on("click",(e=>{var t;const l=(null===(t=e.target.dataItem)||void 0===t?void 0:t.dataContext).category,i=b.Ab.find((e=>e.category===l)),o=null===i||void 0===i?void 0:i.value;var c,u=r.tv.createQuery();s.Up.when((function(){s.Up.whenLayerView(r.tv).then((e=>{r.tv.queryFeatures(u).then((function(t){const l=t.features.length;let i=[];for(var o=0;o<l;o++){var u=t.features[o].attributes.OBJECTID;i.push(u)}var d=new n.A({objectIds:i});r.tv.queryExtent(d).then((function(e){e.extent&&s.Up.goTo(e.extent)})),c&&c.remove(),c=e.highlight(i),s.Up.on("click",(function(){e.filter=new a.A({where:void 0}),c.remove()}))})),e.filter=new a.A({where:"StatusStruc = "+o})}))}))})),y.data.setAll(N);var A=i.children.push(m.s.new(l,{centerX:f.KN(50),x:f.KN(50)}));j.current=A,A.data.setAll(y.dataItems),A.markers.template.setAll({width:18,height:18}),A.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),i.onPrivate("width",(function(e){var t=Math.max(e-i.height()-230,230);A.labels.template.setAll({width:t,maxWidth:t})}));return A.labels.template.setAll({oversizedBehavior:"truncate",fill:u.yW("#ffffff")}),A.valueLabels.template.setAll({textAlign:"right",width:50,fill:u.yW("#ffffff")}),A.itemContainers.template.setAll({paddingTop:1.1,paddingBottom:2}),y.appear(1e3,100),()=>{l.dispose()}}),[z,N]),(0,i.useEffect)((()=>{var e,t;null===(e=E.current)||void 0===e||e.data.setAll(N),null===(t=j.current)||void 0===t||t.data.setAll(E.current.dataItems)})),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:{color:b.IV,fontSize:"1.2rem",marginLeft:"13px",marginTop:"10px"},children:"TOTAL STRUCTURES"}),(0,S.jsx)(w.GH,{layout:"inline",children:(0,S.jsxs)("b",{className:"totalLotsNumber",style:{color:b.dl},children:[(0,S.jsx)("div",{style:{color:b.dl,fontSize:"2rem",fontWeight:"bold",fontFamily:"calibri",lineHeight:"1.2",marginLeft:"15px"},children:(0,y.n3)(C[2])}),(0,S.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/House_Logo.svg",alt:"Land Logo",height:"50px",width:"50px",style:{marginLeft:"260px",display:"flex",marginTop:"-50px"}})]})}),(0,S.jsx)("div",{style:{color:!0===T?"red":"gray",fontSize:"0.8rem",float:"right",marginRight:"5px"},children:t?"As of "+t:""}),(0,S.jsx)("div",{id:z,style:{height:"50vh",backgroundColor:"rgb(0,0,0,0)",color:"white",marginTop:"6%",marginBottom:"10%"}}),(0,S.jsx)("div",{style:{color:b.IV,fontSize:"1.2rem",marginLeft:"13px"},children:"PERMIT-TO-ENTER"}),(0,S.jsxs)(w.GH,{layout:"inline",children:[0===C[1]?(0,S.jsxs)("b",{className:"permitToEnterNumber",style:{color:b.dl},children:[C[0],"% (0)"]}):(0,S.jsxs)("b",{className:"permitToEnterNumber",style:{color:b.dl},children:[C[0],"% (",(0,y.n3)(C[1]),")"]}),(0,S.jsx)("img",{src:"https://EijiGorilla.github.io/Symbols/Permit-To-Enter.png",alt:"Structure Logo",height:"50px",width:"50px",style:{margin:"auto",marginRight:"40px"}})]})]})}))}}]);
//# sourceMappingURL=2716.d5c48bd9.chunk.js.map